(self.webpackChunkautumnplot_gl_docs=self.webpackChunkautumnplot_gl_docs||[]).push([[6200],{1281:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Barbs:()=>be,Color:()=>x,ColorMap:()=>T,Contour:()=>ee,ContourFill:()=>ue,ContourLabels:()=>Q,Grid:()=>H,Hodographs:()=>Te,LambertGrid:()=>X,MultiPlotLayer:()=>Fe,Paintball:()=>we,PlateCarreeGrid:()=>Z,PlateCarreeRotatedGrid:()=>Y,PlotComponent:()=>u,PlotLayer:()=>Ce,Raster:()=>_e,RawObsField:()=>ce,RawProfileField:()=>le,RawScalarField:()=>ie,RawVectorField:()=>se,StationPlot:()=>Se,StructuredGrid:()=>V,UnstructuredGrid:()=>q,colormaps:()=>Oe,initAutumnPlot:()=>Le,makeColorBar:()=>ke,makePaintballKey:()=>Re});var r=n(904);function a(e,t,n){let r=1,a=n;for(;e%a!=0||t%a!=0;)r+=1,a/=2;return r}class o{constructor(e,t){this.cached_values={},this.compute_value=e,this.make_key=void 0===t?(...e)=>JSON.stringify(e):t}getValue(...e){const t=this.make_key(...e);return t in this.cached_values||(this.cached_values[t]=this.compute_value(...e)),this.cached_values[t]}}function i(e,t){const n={...t};return void 0!==e&&Object.entries(e).forEach(([e,t])=>{n[e]=t}),n}function s(e){return e.constructor}function l(e,t){const n="#version 300 es\n";return t.startsWith(n)?n+e+"\n"+t.slice(16):e+"\n"+t}function c(e){return"smu"in e&&"smv"in e}function h(e){return e.getParameter(e.VERSION).includes("WebGL 2.0")}function d(e){return"modelViewProjectionMatrix"in(t=e)&&"defaultProjectionData"in t&&"mainMatrix"in t.defaultProjectionData?{type:"maplibre",defaultProjectionData:{clippingPlane:[...e.defaultProjectionData.clippingPlane],fallbackMatrix:[...e.defaultProjectionData.fallbackMatrix],mainMatrix:[...e.defaultProjectionData.mainMatrix],projectionTransition:e.defaultProjectionData.projectionTransition,tileMercatorCoords:[...e.defaultProjectionData.tileMercatorCoords]},farZ:e.farZ,fov:e.fov,modelViewProjectionMatrix:[...e.modelViewProjectionMatrix],nearZ:e.nearZ,projectionMatrix:[...e.projectionMatrix],shaderData:e.shaderData}:{type:"autumn",mainMatrix:[...e],shaderData:null};var t}const f=new Worker(new URL(n.p+n.u(966),n.b)),_=r.LV(f);class u{}function p(e,t){let n,r,a;const o=h(e);if("float16"==t){const t=e.getExtension("OES_texture_half_float"),i=e.getExtension("OES_texture_half_float_linear");if(o)n=e.R16F,r=e.HALF_FLOAT;else{if(null===t||null===i)throw"Float16 data are not supported on this hardware. Try Float32 data instead.";n=e.LUMINANCE,r=t.HALF_FLOAT_OES}a=2}else if("float32"==t){const t=e.getExtension("OES_texture_float"),i=e.getExtension("OES_texture_float_linear");if(!o&&null===t||!o&&null===i||"iOS"===function(){const e=window.navigator.userAgent,t=window.navigator.platform,n=["Macintosh","MacIntel","MacPPC","Mac68K"];let r=null;return-1!==n.indexOf(t)&&navigator.maxTouchPoints<=1?r="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(t)||-1!==n.indexOf(t)&&navigator.maxTouchPoints>1?r="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?r="Windows":/Android/.test(e)?r="Android":/Linux/.test(t)&&(r="Linux"),r}())throw"Float32 data are not supported on this hardware. Try Float16 data instead.";n=o?e.R32F:e.LUMINANCE,r=e.FLOAT,a=4}else n=o?e.R8:e.LUMINANCE,r=e.UNSIGNED_BYTE,a=1;return{format:n,type:r,row_alignment:a}}function m(e){const t=e=>{const t=Math.sin(e);return Math.tan(Math.PI/4-e/2)*Math.pow((1+o*t)/(1-o*t),o/2)},n=e=>{const t=Math.sin(e);return Math.cos(e)/Math.sqrt(1-o*o*t*t)},r=e.a,a=e.b,o=Math.sqrt(1-a*a/(r*r)),i=Math.PI/180;let s,l,{lon_0:c,lat_0:h,lat_std:d}=e;d=Array.isArray(d)&&d[0]==d[1]?d[0]:d,c*=i,h*=i;const f=t(h);if(Array.isArray(d)){let[e,r]=d;e*=i,r*=i;const a=t(e),o=t(r),c=n(e),h=n(r);l=Math.log(c/h)/Math.log(a/o),s=c/(l*Math.pow(a,l))}else{let e=d;e*=i;const r=t(e),a=n(e);l=Math.sin(e),s=a/(l*Math.pow(r,l))}const _=r*s*Math.pow(f,l),u=o*o,p=u*u,m=p*u,g=m*u,b=u/2+5*p/24+3*m/120-73*g/2016,v=7*p/24+29*m/120+233*g/6720,w=7*m/30+81*g/280,y=4729*g/20160;return(e,n,a)=>(a=void 0===a?{inverse:!1}:a).inverse?((e,t)=>{const n=Math.atan2(e,_-t)/l+c,a=Math.hypot(e,_-t)*Math.sign(l),o=Math.pow(a/(r*s),1/l),h=Math.PI/2-2*Math.atan(o),d=Math.sin(2*h),f=Math.cos(2*h);return[n/i,(h+d*(b+f*(v+f*(w+y*f))))/i]})(e,n):((e,n)=>{e*=i;const a=t(n*=i),o=r*s*Math.pow(a,l),h=l*(e-c);return[o*Math.sin(h),_-o*Math.cos(h)]})(e,n)}function g(e){const t=Math.PI/180,n=e.np_lat*t,r=e.np_lon*t,a=e.lon_shift*t,o=Math.sin(n),i=Math.cos(n);return(e,n,s)=>(s=void 0===s?{inverse:!1}:s).inverse?((e,n)=>{e*=t,n*=t;const s=Math.sin(n),l=Math.cos(n),c=Math.sin(e-r),h=Math.cos(e-r),d=Math.asin(o*s+i*l*h);let f=a+Math.atan2(l*c,o*l*h-i*s);return e>Math.PI&&(e-=2*Math.PI),[f/t,d/t]})(e,n):((e,n)=>{e*=t,n*=t;const s=Math.sin(n),l=Math.cos(n),c=Math.sin(e-a),h=Math.cos(e-a),d=Math.asin(o*s-i*l*h);let f=r+Math.atan2(l*c,o*l*h+i*s);return f>Math.PI&&(f-=2*Math.PI),[f/t,d/t]})(e,n)}function b(e){const t=Math.sin(e*Math.PI/180),n=(180-90/Math.PI*Math.log((1+t)/(1-t)))/360;return Math.min(1.5,Math.max(-.5,n))}class v{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}toMercatorCoord(){return{x:(e=this.lng,(180+e)/360),y:b(this.lat)};var e}static fromMercatorCoord(e,t){return new v(function(e){return 360*e-180}(e),function(e){return 180*Math.atan(Math.sinh((180-360*e)*Math.PI/180))/Math.PI}(t))}}var w=n(1260),y=n(1304);class x{constructor(e){this.rgba=e}get r(){return this.rgba[0]}get g(){return this.rgba[1]}get b(){return this.rgba[2]}get a(){return this.rgba[3]}withOpacity(e){return new x([this.r,this.g,this.b,e])}toRGBHex(){return this.toRGBAHex().slice(0,-2)}toRGBAHex(){return((e,t)=>{let n=e;return"float"==(t=void 0===t?"float":t)&&(n=n.map(e=>Math.round(255*e))),"#"+n.map(e=>e.toString(16).padStart(2,"0").toUpperCase()).join("")})(this.rgba)}toRGBATuple(){return this.rgba}toHSVTuple(){return(e=>{const[t,n,r]=e,a=Math.max(t,n,r),o=a-Math.min(t,n,r);let i;if(0==o)i=0;else if(a==t)i=(n-r)/o*60%6;else if(a==n)i=60*((r-t)/o+2);else{if(a!=r)throw"You've messed something up in rgb2hsv()";i=60*((t-n)/o+4)}return[i,0==a?0:o/a,a]})([this.r,this.g,this.b])}static fromHex(e){return new x(((e,t)=>{t=void 0===t?"float":t;const n=e.match(/#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?/i);if(null===n)throw`Got '${e}' in hex2rgba, which does not look like a hex color`;let r=n.slice(1).filter(e=>void 0!==e).map(e=>parseInt(e,16));return"float"==t&&(r=r.map(e=>e/255)),void 0===r[3]?[r[0],r[1],r[2],1]:[r[0],r[1],r[2],r[3]]})(e))}static fromHSVTuple(e){const t=(e=>{const[t,n,r]=e,a=r*n,o=a*(1-Math.abs(t/60%2-1)),i=r-a;let s,l,c;if(0<=t&&t<60)s=a,l=o,c=0;else if(60<=t&&t<120)s=o,l=a,c=0;else if(120<=t&&t<180)s=0,l=a,c=o;else if(180<=t&&t<240)s=0,l=o,c=a;else if(240<=t&&t<300)s=o,l=0,c=a;else{if(!(300<=t&&t<360))throw"H is out of bounds in hsv2rgb";s=a,l=0,c=o}return[s+i,l+i,c+i]})(e);return new x([t[0],t[1],t[2],1])}static normalizeColor(e){return e instanceof x?e:x.fromHex(e)}}class T{constructor(e,t,n){if(e.length!=t.length+1)throw`Mismatch between number of levels (${e.length}) and number of colors (${t.length}; expected ${e.length-1})`;this.levels=e,this.colors=t.map(e=>x.normalizeColor(e)),n=void 0===n?{}:n,this.overflow_color=void 0===n.overflow_color?null:x.normalizeColor(n.overflow_color),this.underflow_color=void 0===n.underflow_color?null:x.normalizeColor(n.underflow_color)}getColors(){return this.colors.map(e=>e.toRGBHex())}getOpacities(){return this.colors.map(e=>e.a)}withOpacity(e){const t=[],n=[],r={};for(let a=0;a<this.colors.length;a++){const r=this.colors[a],o=this.levels[a],i=this.levels[a+1],s=e(o,i),l=r.withOpacity(s);s>0&&(n[n.length-1]!=o&&n.push(o),n.push(i),t.push(l))}if(null!==this.underflow_color){const t=e(this.levels[0],this.levels[0]);t>0&&(r.underflow_color=this.underflow_color.withOpacity(t))}if(null!==this.overflow_color){const t=e(this.levels[this.levels.length-1],this.levels[this.levels.length-1]);t>0&&(r.overflow_color=this.overflow_color.withOpacity(t))}return new T(n,t,r)}static diverging(e,t,n,r,a){const o=[],i=[],s=(r-n)/(a-1),l=(r+n)/2,c=[0,0,.9],h=x.fromHex(e).toHSVTuple(),d=x.fromHex(t).toHSVTuple();for(let f=0;f<a;f++){const e=n+f*s;let t,a,i,_;e<l?(_=Math.pow((l-e)/(l-n),1.5),[t,a,i]=[h[0],c[1]+(h[1]-c[1])*_,c[2]+(h[2]-c[2])*_]):(_=Math.pow((e-l)/(r-l),1.5),[t,a,i]=[d[0],c[1]+(d[1]-c[1])*_,c[2]+(d[2]-c[2])*_]),o.push(x.fromHSVTuple([t,a,i]).withOpacity(Math.min(2*_,1)))}for(let f=0;f<=a;f++){const e=(r-n)/a;i.push(n+f*e)}return new T(i,o)}}function E(e,t){const n=e.colors.length,r={};return"over"!=t&&"both"!=t||(r.overflow_color=e.colors[n-1]),"under"!=t&&"both"!=t||(r.underflow_color=e.colors[0]),new T(e.levels,e.colors,r)}const A=E({levels:[20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140],colors:["#e6f4ff","#dbf0fe","#d1ebfe","#c6e7fd","#bce3fd","#b1dffc","#a7dbfc","#9cd6fb","#92d2fb","#87cefa","#84c2f6","#81b7f1","#7eabed","#7ba0e8","#7994e4","#7688df","#737ddb","#7071d6","#6d66d2","#6a5acd","#7660cf","#8366d0","#8f6cd2","#9c72d3","#a878d5","#b47ed6","#c184d8","#cd8ad9","#da90db","#e696dc","#e390d9","#e08ad6","#dd84d3","#da7ed0","#d778cd","#d472ca","#d16cc7","#ce66c4","#cb60c1","#c85abe","#c453ba","#c04cb6","#bc45b2","#b83eae","#b437aa","#b030a6","#ac29a2","#a8229e","#a41b9a","#a01496","#a41080","#a80e75","#ac0e75","#b00c6a","#b4085f","#b80649","#bc043e","#c00233","#c80028","#c80028","#ca042a","#cc082c","#d00c2c","#d21432","#d41834","#d41834","#d61c36","#da243a","#dc283c","#de2c3e","#e03040","#e23442","#e43844","#e63c46","#e84048","#ea444a","#ec484c","#ee4c4e","#f05050","#f16052","#f27054","#f38056","#f49058","#f5a05a","#f6b05c","#f7c05e","#f8d060","#f9e062","#faf064","#f7eb61","#f4e65e","#f1e15b","#eedc58","#ebd755","#e8d252","#e5cd4f","#e2c84c","#dfc349","#dcbe46","#d9b943","#d6b440","#d3af3d","#d0aa3a","#cda537","#caa034","#c79b31","#c4962e","#c1912b","#be8c28","#bb8725","#b88222","#b57d1f","#b2781c","#af7319","#ac6e16","#a96913","#a66410","#a35f0d","#a05a0a","#a05a0a"]},"over").withOpacity((e,t)=>Math.min((t-20)/10,1)),M=E({levels:[20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],colors:["#f0f8ff","#dbf0fe","#c6e7fd","#b1dffc","#9cd6fb","#87cefa","#81b7f1","#7ba0e8","#7688df","#7071d6","#6a5acd","#8366d0","#9c72d3","#b47ed6","#cd8ad9","#e696dc","#e08ad6","#da7ed0","#d472ca","#ce66c4","#c85abe","#c04cb6","#b83eae","#b030a6","#a8229e","#a01496","#a81080","#b00c6a","#b8043e","#c80028","#c80028","#d01030","#d41834","#d82038","#dc283c","#e03040","#e43844","#e84048","#ec484c","#f05050","#f27054","#f49058","#f6b05c","#f8d060","#faf064","#f4e65e","#eedc58","#e8d252","#e2c84c","#dcbe46","#d6b440","#d0aa3a","#caa034","#c4962e","#be8c28","#b88222","#b2781c","#ac6e16","#a66410","#a05a0a"]},"over").withOpacity((e,t)=>Math.min((t-20)/10,1)),S=E({levels:[0,100,200,300,400,500,600,700,800,900,1e3,1100,1200,1300,1400,1500,1600,1700,1800,1900,2e3,2100,2200,2300,2400,2500,2600,2700,2800,2900,3e3,3100,3200,3300,3400,3500,3600,3700,3800,3900,4e3,4100,4200,4300,4400,4500,4600,4700,4800,4900,5e3,5100,5200,5300,5400,5500,5600,5700,5800,5900,6e3,6500,7e3,7500,8e3,8500,9e3,9500,1e4],colors:["#ffffff","#f0f0f0","#e1e1e1","#d2d2d2","#c3c3c3","#a5a5a5","#969696","#878787","#787878","#696969","#37536a","#436075","#506d80","#5c7a8b","#698796","#7594a2","#82a1ad","#8eaeb8","#9bbbc3","#a7c8ce","#e9dd96","#e8d186","#e7c575","#e6b865","#e5ac54","#e5a044","#e49433","#e38723","#e27b12","#e16f02","#dc4110","#d33b17","#ca351e","#c12e25","#b8282c","#af2234","#a61c3b","#9d1542","#940f49","#8b0950","#73088a","#7e1894","#8a289f","#9538a9","#a148b3","#ac59be","#b869c8","#c379d2","#cf89dd","#da99e7","#e9bec3","#e3b0b7","#dda3ac","#d795a0","#d18894","#ca7a89","#c46d7d","#be5f71","#b85266","#b2445a","#893d48","#8f4752","#96525b","#9c5c65","#a2676f","#a97178","#af7c82","#b6868b"]},"over").withOpacity((e,t)=>Math.min(t/1e3,1)),P=E({levels:[-60,-59,-58,-57,-56,-55,-54,-53,-52,-51,-50,-49,-48,-47,-46,-45,-44,-43,-42,-41,-40,-39,-38,-37,-36,-35,-34,-33,-32,-31,-30,-29,-28,-27,-26,-25,-24,-23,-22,-21,-20,-19,-18,-17,-16,-15,-14,-13,-12,-11,-10,-9,-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],colors:["#235877","#2a5f7c","#316782","#396e87","#40768c","#477d91","#4e8497","#558c9c","#5d93a1","#649ba6","#6ba2ac","#72a9b1","#79b1b6","#81b8bb","#88c0c1","#8fc7c6","#96cecb","#9dd6d0","#a5ddd6","#ace5db","#b3ece0","#b3ece0","#b1e7df","#b0e1dd","#aedcdc","#add7da","#abd2d9","#aaccd8","#a8c7d6","#a7c2d5","#a5bcd4","#a4b7d2","#a2b2d1","#9fa7ce","#9ea2cd","#9c9dcb","#9c9dcb","#9b97ca","#9992c8","#988dc7","#9688c6","#9582c4","#9278c2","#9073c0","#8f6dbf","#8d68bd","#8c63bc","#8a5dbb","#8958b9","#8753b8","#864eb6","#8448b5","#8343b4","#813eb2","#8038b1","#7e33b0","#7d33ae","#7b29ad","#7a23ab","#781eaa","#a037af","#a443b3","#a74fb7","#ab5cbb","#af68bf","#b374c3","#b680c7","#ba8dcc","#be99d0","#c1a5d4","#c5b1d8","#c9bddc","#cdcae0","#d0d6e4","#d4e2e8","#deecf2","#d1e2ee","#c5d9ea","#b8cfe6","#acc5e3","#9fbbdf","#92b2db","#86a8d7","#799ed3","#6c94cf","#608bcb","#5381c7","#4777c4","#3a6dc0","#2d64bc","#215ab8","#1450b4","#0f4455","#1c4e5a","#2a585f","#376363","#456d68","#52776d","#5f8172","#6d8c77","#7a967c","#88a080","#95aa85","#a3b58a","#b0bf8f","#bdc994","#cbd399","#d8de9d","#e6e8a2","#f3f2a7","#f8eea2","#f0e199","#e8d591","#e1c888","#d9bc80","#d1af77","#c9a36f","#c19666","#ba8a5e","#b27d55","#aa714d","#a26444","#9b583c","#8b3f2b","#833222","#7b261a","#7b261a","#741911","#6c0d09","#640000","#5f0000","#630507","#670a0e","#6c0f15","#70141c","#741824","#781d2b","#7d2232","#812739","#852c40","#73372d","#7a4036","#80493f","#875349","#8e5c52","#94655b","#9b6e64","#a88177","#af8a80","#b69389","#bd9c92","#c3a69c","#caafa5","#d1b8ae","#d7c1b7","#decac0","#e5d4ca","#ebddd3","#f2e6dc","#e8dfd6","#e0d7cf","#d8d0c8","#d0c8c0","#c8c0b9","#c0b9b2","#b7b1ab","#afa9a4","#a7a29c","#9f9a95","#97938e","#8f8b87","#878380","#7f7c78","#777471","#6f6c6a","#666563","#5e5d5c","#565554","#4e4e4d","#464646"]},"both"),C=E({levels:[-40,-39,-38,-37,-36,-35,-34,-33,-32,-31,-30,-29,-28,-27,-26,-25,-24,-23,-22,-21,-20,-19,-18,-17,-16,-15,-14,-13,-12,-11,-10,-9,-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],colors:["#986d4d","#966c4c","#946b4c","#926a4b","#90694b","#8e684a","#8c664a","#8a6549","#886448","#866348","#846247","#826147","#806046","#7e5f46","#7c5e45","#7a5d44","#785b44","#765a43","#745943","#725842","#715742","#6f5641","#6d5540","#6b5440","#69533f","#67523f","#65503e","#634f3d","#614e3d","#5f4d3c","#5d4c3c","#5b4b3b","#594a3b","#57493a","#554839","#534739","#514538","#4f4438","#4d4337","#4b4237","#494136","#4d4334","#514738","#564c3c","#5a5041","#5e5545","#625949","#675e4d","#6b6251","#6f6755","#746b5a","#78705e","#7c7462","#807966","#857d6a","#89826f","#8d8673","#928b77","#968f7b","#9a947f","#9e9883","#a39d88","#a7a18c","#aba690","#afaa94","#b8b39c","#b8b39c","#bcb8a1","#c1bca5","#c9c5ad","#c9cab1","#d2ceb6","#d2ceb6","#d6d3ba","#dfdcc2","#e3e0c6","#e7e5ca","#ebe9cf","#f0eed3","#f4f2d7","#e6f5e6","#d7f0d7","#c8eac8","#b9e5b9","#aadfaa","#9bda9b","#8cd48c","#7dcf7d","#6ec96e","#5fc45f","#30ae30","#2ca32c","#279927","#238e23","#1e831e","#1a791a","#156e15","#116311","#0c590c","#084e08","#61a3af","#5896a0","#508992","#477b83","#3e6e74","#366166","#2d5457","#244648","#1c393a","#132c2b","#66669a","#605e94","#59568e","#534e88","#4d4682","#463e7c","#403676","#3a2e70","#33266a","#2d1e64","#724071","#784573","#7d4b75","#835076","#885678","#8e5b7a","#93617c","#99667d","#9e6c7f","#a47181"]},"both"),F=E({levels:[-15,-14.53608247,-14.07216495,-13.60824742,-13.1443299,-12.68041237,-12.21649485,-11.75257732,-11.28865979,-10.82474227,-10.36082474,-9.89690722,-9.43298969,-8.96907216,-8.50515464,-8.04123711,-7.57731959,-7.11340206,-6.64948454,-6.18556701,-5.72164948,-5.25773196,-4.79381443,-4.32989691,-3.86597938,-3.40206186,-2.93814433,-2.4742268,-2.01030928,-1.54639175,-1.08247423,-.6185567,-.15463918,.30927835,.77319588,1.2371134,1.70103093,2.16494845,2.62886598,3.09278351,3.55670103,4.02061856,4.48453608,4.94845361,5.41237113,5.87628866,6.34020619,6.80412371,7.26804124,7.73195876,8.19587629,8.65979381,9.12371134,9.58762887,10.05154639,10.51546392,10.97938144,11.44329897,11.90721649,12.37113402,12.83505155,13.29896907,13.7628866,14.22680412,14.69072165,15.15463918,15.6185567,16.08247423,16.54639175,17.01030928,17.4742268,17.93814433,18.40206186,18.86597938,19.32989691,19.79381443,20.25773196,20.72164948,21.18556701,21.64948454,22.11340206,22.57731959,23.04123711,23.50515464,23.96907216,24.43298969,24.89690722,25.36082474,25.82474227,26.28865979,26.75257732,27.21649485,27.68041237,28.1443299,28.60824742,29.07216495,29.53608247,30,30.46391753,30.92783505,31.39175258,31.8556701,32.31958763,32.78350515,33.24742268,33.71134021,34.17525773,34.63917526,35.10309278,35.56701031,36.03092784,36.49484536,36.95876289,37.42268041,37.88659794,38.35051546,38.81443299,39.27835052,39.74226804,40.20618557,40.67010309,41.13402062,41.59793814,42.06185567,42.5257732,42.98969072,43.45360825,43.91752577,44.3814433,44.84536082,45.30927835,45.77319588,46.2371134,46.70103093,47.16494845,47.62886598,48.09278351,48.55670103,49.02061856,49.48453608,49.94845361,50.41237113,50.87628866,51.34020619,51.80412371,52.26804124,52.73195876,53.19587629,53.65979381,54.12371134,54.58762887,55.05154639,55.51546392,55.97938144,56.44329897,56.90721649,57.37113402,57.83505155,58.29896907,58.7628866,59.22680412,59.69072165,60.15463918,60.6185567,61.08247423,61.54639175,62.01030928,62.4742268,62.93814433,63.40206186,63.86597938,64.32989691,64.79381443,65.25773196,65.72164948,66.18556701,66.64948454,67.11340206,67.57731959,68.04123711,68.50515464,68.96907216,69.43298969,69.89690722,70.36082474,70.82474227,71.28865979,71.75257732,72.21649485,72.68041237,73.1443299,73.60824742,74.07216495,74.53608247,75],colors:["#959052","#979356","#9c9a60","#a09c64","#a3a067","#a8a570","#aaa875","#acac79","#b1b182","#b5b587","#b6b88c","#bcbd93","#bfc199","#c1c39c","#c1c39c","#c6caa5","#cacdaa","#cccfaf","#cfd1b3","#cccfb3","#c8ccb3","#c6c8b3","#bfc3b3","#bfc3b3","#bcc1b3","#b8bdb3","#b5bab3","#afb5b3","#acb3b3","#aaafb3","#a7aeb3","#a3aab3","#a0a8b3","#9ca5b3","#9aa1b3","#97a0b3","#939cb3","#909ab3","#939ab5","#8c95b3","#8791b1","#838eb1","#808caf","#7c89af","#7785ae","#7482ac","#7080aa","#6b7caa","#6275a8","#5e72a7","#5e72a7","#5b70a5","#566da3","#5269a3","#4f67a1","#4b64a1","#4660a0","#425d9e","#4260a1","#4467a5","#486eaa","#4975ae","#4d7cb1","#4f83b5","#508aba","#5491bf","#5699c3","#599ec6","#5ba5ca","#5daccf","#60b3d4","#62bad8","#64c1db","#67c8df","#69cfe4","#6ed6e8","#67d6d6","#60d6c4","#59d6b3","#52d6a1","#4bd690","#42d67e","#3bd66d","#34d65b","#11d418","#11d116","#0fcd16","#0fc816","#0fc316","#0fbf15","#0fbc15","#0fb613","#0eb313","#0eaf13","#0eaa13","#0ca511","#0ca111","#0c9e11","#0c9911","#0c950f","#0c900f","#0a8c0f","#0a870f","#0a830e","#0a800e","#0a7c0c","#0a770c","#08720c","#086e0c","#086b0a","#08660a","#08620a","#085d08","#1c6708","#317208","#467c08","#5b8707","#6e9107","#839c05","#97a805","#acb105","#c1bc05","#d6c603","#e9d103","#ffe200","#ffd800","#ffd300","#ffc800","#ffc300","#ffba00","#ffb500","#ffb000","#ffac00","#ffa700","#ff9e00","#ff9900","#ff9300","#ff8900","#ff8500","#ff7f00","#ff0000","#f70000","#f00000","#e90000","#e20000","#db0000","#d40000","#cd0000","#c60000","#bf0000","#b80000","#b10000","#aa0000","#a30000","#9a0000","#930000","#8c0000","#850000","#7e0000","#770000","#700000","#ffffff","#fff4ff","#ffe9ff","#ffdfff","#ffd4ff","#ffc8ff","#ffbdff","#ffb3ff","#ffa8ff","#ff9cff","#ff91ff","#ff75ff","#fb6bfd","#f960f9","#f656f6","#f24bf4","#ef3ff0","#ed36ef","#e92aeb","#e61fe8","#e416e6","#e10ae2","#b100ff","#ac00fb","#a300f6","#9a00f4","#9300ef","#8700e9","#8200e8","#7900e2","#7200dd","#6900db","#6200d6"]},"over");class I{constructor(e){this.colormap=e,this.gl_elems=null}static applyShader(e){return l("\nuniform sampler2D u_cmap_sampler;\nuniform sampler2D u_cmap_nonlin_sampler;\nuniform highp float u_cmap_min;\nuniform highp float u_cmap_max;\nuniform highp vec4 u_underflow_color;\nuniform highp vec4 u_overflow_color;\nuniform int u_n_index;\n\nlowp vec4 apply_colormap(highp float value) {\n    lowp float normed_val = (value - u_cmap_min) / (u_cmap_max - u_cmap_min);\n    \n    lowp vec4 color;\n    if (normed_val < 0.0) {\n        color = u_underflow_color;\n    }\n    else if (normed_val > 1.0) {\n        color = u_overflow_color;\n    }\n    else {\n        lowp float index_buffer = 1. / (2. * float(u_n_index));\n        normed_val = index_buffer + normed_val * (1. - 2. * index_buffer); \n        highp float nonlin_val = texture(u_cmap_nonlin_sampler, vec2(normed_val, 0.5)).r;\n        color = texture(u_cmap_sampler, vec2(nonlin_val, 0.5));\n    }\n\n    return color;\n}",e)}setupShaderVariables(e,t){const n=function(e){const t=101,n=[];for(let l=0;l<t;l++)n.push(l/(t-1));const r=e.levels,a=r.length-1,o=r.map((e,t)=>t/a),i=r.map(e=>(e-r[0])/(r[a]-r[0])),s=n.map(e=>{let t;for(t=0;!(i[t]<=e&&e<=i[t+1]);t++);const n=(e-i[t])/(i[t+1]-i[t]);return o[t]*(1-n)+o[t+1]*n});return new y.l(s)}(this.colormap),r=function(e){const t=document.createElement("canvas");t.width=e.colors.length,t.height=1;let n=t.getContext("2d");return e.colors.forEach((e,t)=>{if(null===n)throw"Could not get rendering context for colormap image canvas";n.fillStyle=e.toRGBAHex(),n.fillRect(t,0,1,1)}),t}(this.colormap),{format:a,type:o,row_alignment:i}=p(e,"float16"),s={format:e.RGBA,type:e.UNSIGNED_BYTE,image:r,mag_filter:t},l=new w.C0(e,s),c={format:a,type:o,width:n.length,height:1,image:new Uint16Array(n.buffer),mag_filter:e.LINEAR,row_alignment:i},h=new w.C0(e,c);this.gl_elems={cmap_texture:l,cmap_nonlin_texture:h}}bindShaderVariables(e){if(null===this.gl_elems)return;const t=this.colormap,n=null===t.underflow_color?[0,0,0,0]:t.underflow_color.toRGBATuple(),r=null===t.overflow_color?[0,0,0,0]:t.overflow_color.toRGBATuple();e.setUniforms({u_cmap_min:t.levels[0],u_cmap_max:t.levels[t.levels.length-1],u_n_index:101,u_underflow_color:n,u_overflow_color:r}),e.bindTextures({u_cmap_sampler:this.gl_elems.cmap_texture,u_cmap_nonlin_sampler:this.gl_elems.cmap_nonlin_texture})}}class k{constructor(e,t,n){this.vertex_shader_src=e,this.fragment_shader_src=t,this.shader_defines=n,this.program_map=new Map}getShaderProgram(e,t){const n=null===t?"default":t.variantName,r=this.program_map.get(n);if(void 0!==r)return r;let a=this.vertex_shader_src;if(null!==t)a=l(t.vertexShaderPrelude+"\n"+t.define,a);else{a=l("\n            uniform mat4 u_projection_matrix;\n\n            vec4 projectTile(vec2 p) {\n                vec4 result = u_projection_matrix * vec4(p, 0.0, 1.0);\n                return result;\n            }",a)}const o=new w.tP(e,a,this.fragment_shader_src,{define:this.shader_defines});return this.program_map.set(n,o),o}getShaderUniforms(e){return"maplibre"==e.type?e.shaderData.define.includes("GLOBE")?{u_projection_matrix:e.defaultProjectionData.mainMatrix,u_projection_fallback_matrix:e.defaultProjectionData.fallbackMatrix,u_projection_tile_mercator_coords:e.defaultProjectionData.tileMercatorCoords,u_projection_clipping_plane:e.defaultProjectionData.clippingPlane,u_projection_transition:e.defaultProjectionData.projectionTransition}:{u_projection_matrix:e.defaultProjectionData.mainMatrix}:{u_projection_matrix:e.mainMatrix}}}const R={"-":[1],"--":[1,1,1,1,0,0],":":[1,0],"-.":[1,1,1,0,1,0]};class O{constructor(e,t,n){const r=void 0===(n=void 0===n?{}:n).color?"#000000":n.color;this.color=x.fromHex(r);const a=void 0===n.line_width?1:n.line_width,o=void 0===n.line_style?"-":n.line_style;this.offset_rotates_with_map=void 0===n.offset_rotates_with_map||n.offset_rotates_with_map,this.width=a;const i=[];this.vertices=new w.$w(e,t.vertices,3,e.TRIANGLE_STRIP),this.extrusion=new w.$w(e,t.extrusion,2,e.TRIANGLE_STRIP),void 0!==t.offsets?(this.offset=new w.$w(e,t.offsets,2,e.TRIANGLE_STRIP),this.scale=void 0===n.offset_scale?1:n.offset_scale,i.push("OFFSET")):(this.offset=null,this.scale=null),void 0!==t.zoom?(this.min_zoom=new w.$w(e,t.zoom,1,e.TRIANGLE_STRIP),i.push("ZOOM")):this.min_zoom=null;let s="#version 300 es\n\nuniform sampler2D u_dash_sampler;\n\n#ifndef DATA\nuniform lowp vec4 u_color;\n#endif\n\nuniform lowp float u_line_width;\nuniform lowp float u_zoom;\nuniform int u_dash_pattern_length;\n\n#ifdef DATA\nin highp float v_data;\n#endif\n\nin highp float v_dist;\nin lowp float v_cross;\n\nout highp vec4 fragColor;\n\nvoid main() {\n    lowp float dash_x = fract(v_dist * 2e2 * pow(2., floor(u_zoom)) / float(u_dash_pattern_length));\n    lowp float dash = texture(u_dash_sampler, vec2(dash_x, 0.5)).r;\n\n    lowp vec4 color;\n#ifdef DATA\n    color = apply_colormap(v_data);\n#else\n    color = u_color;\n#endif\n\n    lowp float feather = clamp((1. - abs(v_cross)) * u_line_width, 0., 1.);\n    color.a *= (dash >= 1. ? 1. : 0.) * feather;\n\n    fragColor = color;\n}";if(void 0!==t.data){i.push("DATA"),this.line_data=new w.$w(e,t.data,1,e.TRIANGLE_STRIP);const a=void 0===n.cmap?new T([0,1],[r],{overflow_color:r,underflow_color:r}):n.cmap;this.cmap_gpu=new I(a),this.cmap_gpu.setupShaderVariables(e,e.NEAREST),s=I.applyShader(s)}else this.line_data=null,this.cmap_gpu=null;[this.n_dash,this.dash_texture]=function(e,t){const n=Array.isArray(t)?t:R[t],r={format:h(e)?e.R8:e.LUMINANCE,type:e.UNSIGNED_BYTE,width:n.length,height:1,image:new Uint8Array(n.map(e=>e>0?255:0)),mag_filter:e.NEAREST,row_alignment:1};return[n.length,new w.C0(e,r)]}(e,o),this.shader_manager=new k("#version 300 es\n\nuniform int u_offset;\n\nin vec3 a_pos;\nin vec2 a_extrusion;\nin float a_data;\n\n#ifdef ZOOM\nin float a_min_zoom;\n#endif\n\n#ifdef OFFSET\nin vec2 a_offset;\n#endif\n\nuniform lowp float u_line_width;\nuniform lowp float u_map_width;\nuniform lowp float u_map_height;\n\n\n#ifdef ZOOM\nuniform lowp float u_zoom;\n#endif\n\n#ifdef OFFSET\nuniform int u_offset_rotates_with_map;\nuniform lowp float u_offset_scale;\n#endif\n\n#ifdef DATA\nout highp float v_data;\n#endif\n\nout highp float v_dist;\nout lowp float v_cross;\n\nmat4 scalingMatrix(float x_scale, float y_scale, float z_scale) {\n    return mat4(x_scale, 0.0,     0.0,     0.0,\n                0.0,     y_scale, 0.0,     0.0,\n                0.0,     0.0,     z_scale, 0.0,\n                0.0,     0.0,     0.0,     1.0);\n}\n\nmat4 rotationZMatrix(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat4( c,  s,  0., 0.,\n                -s,  c,  0., 0.,\n                 0., 0., 1., 0.,\n                 0., 0., 0., 1.);\n}\n\nmat4 rotationXMatrix(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat4( 1.,  0., 0., 0.,\n                 0.,  c,  s,  0.,\n                 0., -s,  c,  0.,\n                 0.,  0., 0., 1.);\n}\n\nvoid main() {\n    float globe_width = 1.;\n    vec2 globe_offset = vec2(globe_width * float(u_offset), 0.);\n\n    v_dist = abs(a_pos.z);\n    v_cross = sign(a_pos.z);\n    vec4 center_pos = projectTile(a_pos.xy + globe_offset);\n    vec4 offset = vec4(0.0, 0.0, 0.0, 0.0);\n\n#ifdef ZOOM\n    if (u_zoom >= a_min_zoom) {\n#endif\n\n        vec2 offset_ext = u_line_width * 2. * a_extrusion;\n\n        mat4 map_stretch_matrix = scalingMatrix(u_map_height / u_map_width, 1., 1.);\n        \n        vec4 center_pos_ihat = projectTile(a_pos.xy + globe_offset + vec2(1e-5, 0.));\n        \n        vec2 center_east = normalize((inverse(map_stretch_matrix) * (center_pos_ihat - center_pos)).xy);\n        float globe_rotation = atan(center_east.x, center_east.y) - 3.141592654 / 2.0;\n        mat4 rotation_matrix = rotationZMatrix(-globe_rotation);\n\n        offset = map_stretch_matrix * rotation_matrix * vec4(offset_ext, 0., 0.);\n\n#ifdef OFFSET\n        mat4 offset_matrix = scalingMatrix(1., u_map_width / u_map_height, 1.);\n        if (u_offset_rotates_with_map == 1) {\n            offset_matrix = offset_matrix * rotation_matrix;\n        }\n        else {\n            offset = map_stretch_matrix * vec4(offset_ext, 0., 0.);\n        }\n\n        vec2 offset_offset = u_offset_scale * a_offset;\n        offset += offset_matrix * vec4(offset_offset, 0., 0.);\n#endif\n\n#ifdef ZOOM\n    }\n#endif\n\n    gl_Position = center_pos + offset;\n\n#ifdef DATA\n    v_data = a_data;\n#endif\n}",s,i)}static async make(e,t,n){const r=await _.makePolyLines(t);return new O(e,r,n)}render(e,t,[n,r],a,o,i){const s=d(t),l=this.shader_manager.getShaderProgram(e,s.shaderData),c={a_pos:this.vertices,a_extrusion:this.extrusion},h={u_line_width:this.width,u_map_width:n,u_map_height:r,u_offset:0,u_zoom:a,u_dash_pattern_length:this.n_dash,...this.shader_manager.getShaderUniforms(s)},f={u_dash_sampler:this.dash_texture};null!==this.offset&&null!==this.scale&&(c.a_offset=this.offset,h.u_offset_scale=this.scale*(r/n),h.u_offset_rotates_with_map=this.offset_rotates_with_map?1:0),null!==this.min_zoom&&(c.a_min_zoom=this.min_zoom),null!==this.line_data?c.a_data=this.line_data:h.u_color=this.color.toRGBATuple(),l.use(c,h,f),null!==this.cmap_gpu&&this.cmap_gpu.bindShaderVariables(l),e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),l.draw(),"maplibre"==s.type&&s.shaderData.define.includes("GLOBE")||(l.setUniforms({u_offset:-2}),l.draw(),l.setUniforms({u_offset:-1}),l.draw(),l.setUniforms({u_offset:1}),l.draw())}}var L=n(7919),z=n.n(L),j=n(7948);const $=new o(async e=>{const t=e.map(async e=>{const t=await fetch(e);if(200!=t.status)throw`Error ${t.status} retrieving font pbf from '${e}'`;const n=await t.blob(),r=await n.arrayBuffer();return function(e){const t=(e,t,n)=>{if(void 0!==n)switch(e){case 1:t.id=n.readVarint();break;case 2:t.data=n.readBytes();break;case 3:t.width=n.readVarint()+6;break;case 4:t.height=n.readVarint()+6;break;case 5:t.left=n.readSVarint();break;case 6:t.top=n.readSVarint();break;case 7:t.advance=n.readVarint()}},n=(e,n,r)=>{if(void 0!==n&&void 0!==r&&3==e){const e=r.readMessage(t,{});n.push(e)}};return new(z())(e).readFields((e,t,r)=>{void 0!==r&&1==e&&r.readMessage(n,t)},[])}(new Uint8Array(r))});return function(e){const t=e.filter(e=>void 0!==e.data),n=[],r=t.map(e=>{const t={x:0,y:0,w:e.width,h:e.height};return n.push({glyph:e,bin:t}),t}),{w:a,h:o}=(0,j.A)(r),i=new Uint8Array(a*o),s={};let l=0;n.forEach(e=>{const{bin:t,glyph:n}=e;if(void 0===t.x||void 0===t.y)throw"Potpack couldn't pack this pot, I guess?";s[n.id]={id:n.id,width:n.width,height:n.height,left:n.left,top:n.top,atlas_i:t.x,atlas_j:t.y,advance:n.advance},l=Math.max(l,n.height);for(let r=0;r<n.width;r++)for(let e=0;e<n.height;e++){const o=r+n.width*e,s=r+t.x+a*(e+t.y);i[s]=n.data[o]}});const c=s["M".charCodeAt(0)],h=void 0===c?l:c.height-c.top,d=void 0===c?0:-c.top;return{atlas:i,atlas_width:a,atlas_height:o,baseline:h,top:d,glyph_info:s}}((await Promise.all(t)).flat())}),B={horizontal_align:"left",vertical_align:"baseline",font_size:12,text_color:new x([0,0,0,1]),halo_color:new x([0,0,0,1]),halo:!1,offset_x:0,offset_y:0};class N{constructor(e,t,n,r){this.opts=i(r,B);const a=h(e)?e.R8:e.LUMINANCE,o=e.UNSIGNED_BYTE,s=0==n.atlas_width||0==n.atlas_height||0==n.atlas.length,l={format:a,type:o,width:s?1:n.atlas_width,height:s?1:n.atlas_height,image:s?new Uint8Array([0,0,0,0]):n.atlas,row_alignment:1,mag_filter:e.LINEAR};this.texture=new w.C0(e,l);const c=6*t.map(e=>e.text.length).reduce((e,t)=>e+t,0),d=new Float32Array(3*c),f=new Float32Array(2*c),_=new Float32Array(2*c);let u=0,p=0,m=0;t.forEach(e=>{const{lat:t,lon:r,text:a}=e,o=void 0===e.min_zoom?0:e.min_zoom,{x:i,y:s}=new v(r,t).toMercatorCoord();let l=this.opts.offset_x,c=this.opts.offset_y;const h=p;for(let g=0;g<a.length;g++){const e=a.charCodeAt(g),t=n.glyph_info[e];void 0!==t?(l+=t.left,d[u++]=i,d[u++]=s,d[u++]=o,d[u++]=i,d[u++]=s,d[u++]=o,d[u++]=i,d[u++]=s,d[u++]=o,d[u++]=i,d[u++]=s,d[u++]=o,d[u++]=i,d[u++]=s,d[u++]=o,d[u++]=i,d[u++]=s,d[u++]=o,f[p++]=l,f[p++]=c+n.baseline+t.top-t.height,f[p++]=l,f[p++]=c+n.baseline+t.top-t.height,f[p++]=l+t.width,f[p++]=c+n.baseline+t.top-t.height,f[p++]=l,f[p++]=c+n.baseline+t.top,f[p++]=l+t.width,f[p++]=c+n.baseline+t.top,f[p++]=l+t.width,f[p++]=c+n.baseline+t.top,_[m++]=t.atlas_i/n.atlas_width,_[m++]=(t.atlas_j+t.height)/n.atlas_height,_[m++]=t.atlas_i/n.atlas_width,_[m++]=(t.atlas_j+t.height)/n.atlas_height,_[m++]=(t.atlas_i+t.width)/n.atlas_width,_[m++]=(t.atlas_j+t.height)/n.atlas_height,_[m++]=t.atlas_i/n.atlas_width,_[m++]=t.atlas_j/n.atlas_height,_[m++]=(t.atlas_i+t.width)/n.atlas_width,_[m++]=t.atlas_j/n.atlas_height,_[m++]=(t.atlas_i+t.width)/n.atlas_width,_[m++]=t.atlas_j/n.atlas_height,l+=t.advance-t.left):l+=7}if("center"==this.opts.horizontal_align)for(let n=h;n<h+12*a.length;n+=2)f[n]-=(l-this.opts.offset_x)/2;else if("right"==this.opts.horizontal_align)for(let n=h;n<h+12*a.length;n+=2)f[n]-=l-this.opts.offset_x;if("top"==this.opts.vertical_align)for(let d=h+1;d<h+12*a.length;d+=2)f[d]-=n.baseline-n.top;else if("middle"==this.opts.vertical_align)for(let d=h+1;d<h+12*a.length;d+=2)f[d]-=(n.baseline-n.top)/2}),this.shader_manager=new k("#version 300 es\n\nuniform int u_offset;\nuniform highp float u_map_width;\nuniform highp float u_map_height;\nuniform highp float u_map_zoom;\nuniform highp float u_font_size;\n\nin vec3 a_pos;\nin vec2 a_offset;\nin vec2 a_tex_coord;\n\nout highp vec2 v_tex_coord;\n\nmat4 scalingMatrix(float x_scale, float y_scale, float z_scale) {\n    return mat4(x_scale, 0.0,     0.0,     0.0,\n                0.0,     y_scale, 0.0,     0.0,\n                0.0,     0.0,     z_scale, 0.0,\n                0.0,     0.0,     0.0,     1.0);\n}\n\nvoid main() {\n    float min_zoom = a_pos.z;\n\n    vec2 offset = a_offset;\n    if (u_map_zoom < min_zoom)\n        offset = vec2(0., 0.);\n\n    float globe_width = 1.;\n    vec2 globe_offset = vec2(globe_width * float(u_offset), 0.);\n\n    mat4 map_stretch_matrix = scalingMatrix(u_map_height / u_map_width, 1., 1.);\n\n    gl_Position = projectTile(a_pos.xy + globe_offset) + u_font_size / 12. * 1.5 * map_stretch_matrix * vec4(offset, 0., 0.);\n    v_tex_coord = a_tex_coord;\n}","#version 300 es\n\nin highp vec2 v_tex_coord;\nuniform sampler2D u_sdf_sampler;\nuniform int u_is_halo;\n\nuniform lowp vec4 u_text_color;\nuniform lowp vec4 u_halo_color;\n\n#define SDF_FILL 0.75\n#define SDF_HALO 0.45\n\nout highp vec4 fragColor;\n\nvoid main() {\n    highp float sdf_val = texture(u_sdf_sampler, v_tex_coord).r;\n\n    lowp float step_width = 0.08;\n    lowp float alpha = smoothstep(SDF_FILL - step_width, SDF_FILL + step_width, sdf_val);\n\n    lowp vec4 color = u_is_halo == 1 ? u_halo_color : u_text_color;\n\n    if (u_is_halo == 1) {\n        alpha = min(smoothstep(SDF_HALO - step_width, SDF_HALO + step_width, sdf_val), 1.0 - alpha);\n    }\n\n    color.a *= alpha;\n    fragColor = color;\n}",[]),this.anchors=new w.$w(e,d,3,e.TRIANGLE_STRIP),this.offsets=new w.$w(e,f,2,e.TRIANGLE_STRIP),this.texcoords=new w.$w(e,_,2,e.TRIANGLE_STRIP)}static async make(e,t,n,r){const a=256,o=t.map(e=>[...e.text]).flat().map(e=>e.charCodeAt(0)).filter((e,t,n)=>n.indexOf(e)==t),i=Math.min(...o),s=Math.max(...o),l=Math.floor(i/a)*a,c=Math.floor(s/a)*a,h=[];for(let f=l;f<=c;f+=a)h.push(n.replace("{range}",`${f}-${f+a-1}`));const d=await $.getValue(h);return 0!=d.atlas_height&&0!=d.atlas_width&&0!=d.atlas.length||console.warn(`No font data from '${n}'`),new N(e,t,d,r)}render(e,t,[n,r],a){const o=d(t),i=this.shader_manager.getShaderProgram(e,o.shaderData),s={u_map_width:n,u_map_height:r,u_map_zoom:a,u_font_size:this.opts.font_size,u_text_color:this.opts.text_color.toRGBATuple(),u_halo_color:this.opts.halo_color.toRGBATuple(),u_offset:0,...this.shader_manager.getShaderUniforms(o)};s.u_is_halo=this.opts.halo?1:0,i.use({a_pos:this.anchors,a_offset:this.offsets,a_tex_coord:this.texcoords},s,{u_sdf_sampler:this.texture}),e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),i.draw(),this.opts.halo&&(i.setUniforms({u_is_halo:0}),i.draw()),"maplibre"==o.type&&o.shaderData.define.includes("GLOBE")||(i.setUniforms({u_offset:-2,u_is_halo:this.opts.halo?1:0}),i.draw(),this.opts.halo&&(i.setUniforms({u_is_halo:0}),i.draw()),i.setUniforms({u_offset:-1,u_is_halo:this.opts.halo?1:0}),i.draw(),this.opts.halo&&(i.setUniforms({u_is_halo:0}),i.draw()),i.setUniforms({u_offset:1,u_is_halo:this.opts.halo?1:0}),i.draw(),this.opts.halo&&(i.setUniforms({u_is_halo:0}),i.draw()))}}var D=n(2973);const U=6378137,G=6356752.314245;function W(e){if(0===e.length)return-1;let t=e[0],n=0;for(let r=1;r<e.length;r++)e[r]<t&&(n=r,t=e[r]);return n}class H{constructor(e,t,n,r){this.type=e,this.is_conformal=t,this.ni=n,this.nj=r,this.billboard_buffer_cache=new o((e,t,n)=>async function(e,t,n,r){const{lats:a,lons:o}=t.getEarthCoords(),i=t.getMinVisibleZoom(n),s=await _.makeBBElements(a,o,i,t.ni,t.nj,r);return{vertices:new w.$w(e,s.pts,2,e.POINTS,{per_instance:!0}),texcoords:new w.$w(e,s.tex_coords,2,e.POINTS,{per_instance:!0})}}(e,this,t,n)),this.vector_rotation_cache=new o((e,t)=>function(e,t,n){const r=t.getEarthCoords(),a=new y.l(t.ni*t.nj).fill(parseFloat("nan"));if(n)a.fill(0);else{t.is_conformal||console.warn("Vector rotations for non-conformal projections are not supported. The output may look incorrect.");for(let e=0;e<r.lats.length;e++){const n=r.lons[e],o=r.lats[e];a[e]=t.getVectorRotationAtPoint(n,o)}}const{format:o,type:i,row_alignment:s}=p(e,"float16"),l={format:o,type:i,row_alignment:s,image:new Uint16Array(a.buffer),width:t.ni,height:t.nj,mag_filter:e.LINEAR};return{rotation:new w.C0(e,l)}}(e,this,t))}async getWGLBillboardBuffers(e,t,n){return await this.billboard_buffer_cache.getValue(e,t,n)}getVectorRotationAtPoint(e,t){const[n,r]=this.transform(e,t),[a,o]=this.transform(e+.01,t);return Math.atan2(o-r,a-n)}getVectorRotationTexture(e,t){return this.vector_rotation_cache.getValue(e,t)}}class V extends H{constructor(e,t,n,r,a,i){super(e,t,n,r),this.thin_x=void 0===a?1:a,this.thin_y=void 0===i?1:i,this.buffer_cache=new o(e=>async function(e,t,n,r){const a=1/(2*t.ni),o=1/(2*t.nj),{lats:i,lons:s}=t.getEarthCoords(n,r),l=await _.makeDomainVerticesAndTexCoords(i,s,n,r,a,o);return{vertices:new w.$w(e,l.vertices,2,e.TRIANGLE_STRIP),texcoords:new w.$w(e,l.tex_coords,2,e.TRIANGLE_STRIP)}}(e,this,Math.max(Math.floor(this.ni/20),20),Math.max(Math.floor(this.nj/20),20)))}xyThinFromMaxZoom(e,t){const n=Math.log2(e),r=Math.max(n+1-t,0),a=Math.pow(2,r);return[a,a]}getMinVisibleZoom(e){const t=new Uint8Array(this.ni*this.nj),n=e/Math.max(this.thin_x,this.thin_y);for(let r=0;r<this.nj*this.thin_y;r++)for(let e=0;e<this.ni*this.thin_x;e++){t[r*this.ni+e]=a(r,e,n)}return t}thinDataArray(e,t){const n=new(s(t))(this.ni*this.nj);for(let r=0;r<this.ni;r++)for(let a=0;a<this.nj;a++){const o=r*this.thin_x+e.ni*a*this.thin_y;n[r+this.ni*a]=t[o]}return n}async getWGLBuffers(e){return await this.buffer_cache.getValue(e)}sampleNearestGridPoint(e,t,n){const[r,a]=this.transform(e,t),{x:o,y:i}=this.getGridCoords(),s=o[0],l=o[o.length-1],c=o[1]-o[0],h=i[0],d=i[i.length-1],f=i[1]-i[0];if(r<s-.5*c||r>l+.5*c||a<h-.5*f||a>d+.5*f)return{sample:NaN,sample_lon:NaN,sample_lat:NaN};const _=W(o.map(e=>Math.abs(e-r))),u=W(i.map(e=>Math.abs(e-a))),p=_+u*this.ni,[m,g]=this.transform(o[_],i[u],{inverse:!0});return{sample:n[p],sample_lon:m,sample_lat:g}}}class Z extends V{constructor(e,t,n,r,a,i,s,l){super("latlon",!0,e,t,s,l),this.ll_lon=n,this.ll_lat=r,this.ur_lon=a,this.ur_lat=i;const c=(this.ur_lon-this.ll_lon)/(this.ni-1),h=(this.ur_lat-this.ll_lat)/(this.nj-1);this.ll_cache=new o((e,t)=>{const n=new Float32Array(e*t),r=new Float32Array(e*t),a=(this.ni-1)/(e-1)*c,o=(this.nj-1)/(t-1)*h;for(let i=0;i<e;i++)for(let s=0;s<t;s++){const t=i+s*e;n[t]=this.ll_lon+i*a,r[t]=this.ll_lat+s*o}return{lons:n,lats:r}}),this.gc_cache=new o(()=>{const e=new Float32Array(this.ni),t=new Float32Array(this.nj);for(let n=0;n<this.ni;n++)e[n]=this.ll_lon+n*c;for(let n=0;n<this.nj;n++)t[n]=this.ll_lat+n*h;return{x:e,y:t}})}copy(e){const t=void 0!==(e=void 0!==e?e:{}).ni?e.ni:this.ni,n=void 0!==e.nj?e.nj:this.nj,r=void 0!==e.ll_lon?e.ll_lon:this.ll_lon,a=void 0!==e.ll_lat?e.ll_lat:this.ll_lat,o=void 0!==e.ur_lon?e.ur_lon:this.ur_lon,i=void 0!==e.ur_lat?e.ur_lat:this.ur_lat;return new Z(t,n,r,a,o,i)}getEarthCoords(e,t){return e=void 0===e?this.ni:e,t=void 0===t?this.nj:t,this.ll_cache.getValue(e,t)}getGridCoords(){return this.gc_cache.getValue()}transform(e,t,n){return[e,t]}getThinnedGrid(e,t){const[n,r]=this.xyThinFromMaxZoom(e,t),a=(this.ur_lon-this.ll_lon)/this.ni,o=(this.ur_lat-this.ll_lat)/this.nj,i=Math.ceil(this.ni/n),s=Math.ceil(this.nj/r),l=(this.ni-1)%n,c=(this.nj-1)%r,h=this.ll_lon,d=this.ll_lat,f=this.ur_lon-l*a,_=this.ur_lat-c*o;return new Z(i,s,h,d,f,_,this.thin_x*n,this.thin_y*r)}}class Y extends V{constructor(e,t,n,r,a,i,s,l,c,h,d){super("latlonrot",!0,e,t,h,d),this.np_lon=n,this.np_lat=r,this.lon_shift=a,this.ll_lon=i,this.ll_lat=s,this.ur_lon=l,this.ur_lat=c,this.llrot=g({np_lon:n,np_lat:r,lon_shift:a});const f=(this.ur_lon-this.ll_lon)/(this.ni-1),_=(this.ur_lat-this.ll_lat)/(this.nj-1);this.ll_cache=new o((e,t)=>{const n=new Float32Array(e*t),r=new Float32Array(e*t),a=(this.ni-1)/(e-1)*f,o=(this.nj-1)/(t-1)*_;for(let i=0;i<e;i++){const s=this.ll_lon+i*a;for(let a=0;a<t;a++){const t=this.ll_lat+a*o,[l,c]=this.llrot(s,t),h=i+a*e;n[h]=l,r[h]=c}}return{lons:n,lats:r}}),this.gc_cache=new o(()=>{const e=new Float32Array(this.ni),t=new Float32Array(this.nj);for(let n=0;n<this.ni;n++)e[n]=this.ll_lon+n*f;for(let n=0;n<this.nj;n++)t[n]=this.ll_lat+n*_;return{x:e,y:t}})}copy(e){const t=void 0!==(e=void 0!==e?e:{}).ni?e.ni:this.ni,n=void 0!==e.nj?e.nj:this.nj,r=void 0!==e.ll_lon?e.ll_lon:this.ll_lon,a=void 0!==e.ll_lat?e.ll_lat:this.ll_lat,o=void 0!==e.ur_lon?e.ur_lon:this.ur_lon,i=void 0!==e.ur_lat?e.ur_lat:this.ur_lat;return new Y(t,n,this.np_lon,this.np_lat,this.lon_shift,r,a,o,i)}getEarthCoords(e,t){return e=void 0===e?this.ni:e,t=void 0===t?this.nj:t,this.ll_cache.getValue(e,t)}getGridCoords(){return this.gc_cache.getValue()}transform(e,t,n){const r="inverse"in(n=void 0===n?{}:n)&&n.inverse;return this.llrot(e,t,{inverse:!r})}getThinnedGrid(e,t){const[n,r]=this.xyThinFromMaxZoom(e,t),a=(this.ur_lon-this.ll_lon)/this.ni,o=(this.ur_lat-this.ll_lat)/this.nj,i=Math.ceil(this.ni/n),s=Math.ceil(this.nj/r),l=(this.ni-1)%n,c=(this.nj-1)%r,h=this.ll_lon,d=this.ll_lat,f=this.ur_lon-l*a,_=this.ur_lat-c*o;return new Y(i,s,this.np_lon,this.np_lat,this.lon_shift,h,d,f,_,this.thin_x*n,this.thin_y*r)}}class X extends V{constructor(e,t,n,r,a,i,s,l,c,h,d,f,_){super("lcc",!0,e,t,f,_),this.lon_0=n,this.lat_0=r,this.lat_std=a,this.ll_x=i,this.ll_y=s,this.ur_x=l,this.ur_y=c,this.a=void 0===h?U:h,this.b=void 0===d?G:d,this.lcc=m({lon_0:n,lat_0:r,lat_std:a,a:this.a,b:this.b});const u=(this.ur_x-this.ll_x)/this.ni,p=(this.ur_y-this.ll_y)/this.nj;this.ll_cache=new o((e,t)=>{const n=new Float32Array(e*t),r=new Float32Array(e*t),a=(this.ni-1)/(e-1)*u,o=(this.nj-1)/(t-1)*p;for(let i=0;i<e;i++){const s=this.ll_x+i*a;for(let a=0;a<t;a++){const t=this.ll_y+a*o,[l,c]=this.lcc(s,t,{inverse:!0}),h=i+a*e;n[h]=l,r[h]=c}}return{lons:n,lats:r}}),this.gc_cache=new o(()=>{const e=new Float32Array(this.ni),t=new Float32Array(this.nj);for(let n=0;n<this.ni;n++)e[n]=this.ll_x+n*u;for(let n=0;n<this.nj;n++)t[n]=this.ll_y+n*p;return{x:e,y:t}})}static fromLLCornerLonLat(e,t,n,r,a,o,i,s,l,c,h){const d=m({lon_0:n,lat_0:r,lat_std:a,a:c=void 0===c?U:c,b:h=void 0===h?G:h}),[f,_]=d(o,i);return new X(e,t,n,r,a,f,_,f+e*s,_+t*l,c,h)}copy(e){const t=void 0!==(e=void 0!==e?e:{}).ni?e.ni:this.ni,n=void 0!==e.nj?e.nj:this.nj,r=void 0!==e.ll_x?e.ll_x:this.ll_x,a=void 0!==e.ll_y?e.ll_y:this.ll_y,o=void 0!==e.ur_x?e.ur_x:this.ur_x,i=void 0!==e.ur_y?e.ur_y:this.ur_y;return new X(t,n,this.lon_0,this.lat_0,this.lat_std,r,a,o,i,this.a,this.b)}getEarthCoords(e,t){return e=void 0===e?this.ni:e,t=void 0===t?this.nj:t,this.ll_cache.getValue(e,t)}getGridCoords(){return this.gc_cache.getValue()}transform(e,t,n){const r=void 0!==(n=void 0===n?{}:n).inverse&&n.inverse;return this.lcc(e,t,{inverse:r})}getThinnedGrid(e,t){const[n,r]=this.xyThinFromMaxZoom(e,t),a=(this.ur_x-this.ll_x)/this.ni,o=(this.ur_y-this.ll_y)/this.nj,i=Math.ceil(this.ni/n),s=Math.ceil(this.nj/r),l=(this.ni-1)%n,c=(this.nj-1)%r,h=this.ll_x,d=this.ll_y,f=this.ur_x-l*a,_=this.ur_y-c*o;return new X(i,s,this.lon_0,this.lat_0,this.lat_std,h,d,f,_,this.a,this.b,this.thin_x*n,this.thin_y*r)}}class q extends H{constructor(e,t){super("unstructured",!0,Math.min(e.length,4096),Math.floor(e.length/4096)+1),this.coords=e,this.zoom_arg=void 0===t?null:t,this.zoom_cache=new o(e=>{const t=Math.log2(e),n=this.coords.map(e=>({...new v(e.lon,e.lat).toMercatorCoord(),min_zoom:24})),r=new D.kdTree([...n],(e,t)=>Math.max(Math.abs(e.x-t.x),Math.abs(e.y-t.y)),["x","y"]),a=(e,n,o)=>{const i=Math.pow(.5,o+1),s=r.nearest({x:e,y:n,min_zoom:0},2,i);if(s.length>0){const[e,n]=s.sort((e,t)=>e[1]-t[1])[0];24==e.min_zoom&&(e.min_zoom=Math.max(o-t,0))}s.length>1&&o<24+t&&(a(e-i/2,n-i/2,o+1),a(e+i/2,n-i/2,o+1),a(e-i/2,n+i/2,o+1),a(e+i/2,n+i/2,o+1))};return a(.5,.5,0),new Uint8Array(n.map(e=>e.min_zoom))})}copy(){return new q(this.coords)}getEarthCoords(){return{lons:new Float32Array(this.coords.map(e=>e.lon)),lats:new Float32Array(this.coords.map(e=>e.lat))}}getGridCoords(){const{lons:e,lats:t}=this.getEarthCoords();return{x:e,y:t}}transform(e,t,n){return[e,t]}getMinVisibleZoom(e){return null!==this.zoom_arg?this.zoom_arg:this.zoom_cache.getValue(e)}getThinnedGrid(e,t){const n=this.getMinVisibleZoom(e);return new q(this.coords.filter((e,r)=>n[r]<=t),n.filter(e=>e<=t))}thinDataArray(e,t){let n=0;const r=new(s(t))(this.ni*this.nj);for(let a=0;a<e.coords.length&&!(this.coords[n].lat==e.coords[a].lat&&this.coords[n].lon==e.coords[a].lon&&(r[n++]=t[a],n>=this.coords.length));a++);return r}sampleNearestGridPoint(e,t,n){const r=W(this.coords.map(n=>(n.lon-e)*(n.lon-e)+(n.lat-t)*(n.lat-t)));return{sample:n[r],sample_lon:this.coords[r].lon,sample_lat:this.coords[r].lat}}}const J={color:"#000000",cmap:null,interval:1,levels:null,line_width:2,line_style:"-",quad_as_tri:!1};const K={n_decimal_places:0,font_face:"Trebuchet MS",font_size:12,font_url_template:"",text_color:"#000000",halo_color:"#000000",halo:!1,density:1};class Q extends u{constructor(e,t){super(),this.opts=i(t,K),this.contours=e,this.text_collection=null,this.gl_elems=null}async updateField(){if(null===this.gl_elems)return;const e=this.gl_elems.map,t=this.gl_elems.gl,n=e.getStyle(),r=""==this.opts.font_url_template?n.glyphs:this.opts.font_url_template;if(void 0===r)throw"The map style doesn't have any glyph information. Please pass the font_url_template option to ContourLabels";const a=r.replace("{fontstack}",this.opts.font_face),o=[],i=await this.contours.getContours(),s=Object.keys(i).map(parseFloat);s.sort((e,t)=>e-t);const l=e.getMaxZoom(),c=.006/this.opts.density*Math.pow(2,7-l);Object.entries(i).forEach(([e,t])=>{const n=parseFloat(e)-s[0],r=e.toString();t.forEach(e=>{const t=e.map(e=>{const t=new v(...e).toMercatorCoord();return[t.x,t.y]}),a=[];t.forEach((e,n)=>{if(0==n)a.push(0);else{const r=t[n-1],o=Math.hypot(r[0]-e[0],r[1]-e[1]);a.push(a[n-1]+o)}});let i=0;for(let s=1;s<a.length;s++){const t=c*(i+n/2%1);if(a[s-1]<=t&&t<a[s]){const n=e[s-1],l=e[s],c=(t-a[s-1])/(a[s]-a[s-1]),h=(1-c)*n[0]+c*l[0],d=(1-c)*n[1]+c*l[1];o.push({coord:{lon:h,lat:d},text:r}),i++}}})});const h=new q(o.map(e=>e.coord)).getMinVisibleZoom(4),d=o.map((e,t)=>({...e.coord,min_zoom:h[t],text:e.text})),f={horizontal_align:"center",vertical_align:"middle",font_size:this.opts.font_size,halo:this.opts.halo,text_color:x.fromHex(this.opts.text_color),halo_color:x.fromHex(this.opts.halo_color)};this.text_collection=await N.make(t,d,a,f),e.triggerRepaint()}async onAdd(e,t){this.gl_elems={gl:t,map:e},this.updateField()}render(e,t){if(null===this.gl_elems||null===this.text_collection)return;const n=this.gl_elems,r=n.map.getCanvas().width,a=n.map.getCanvas().height,o=n.map.getZoom();this.text_collection.render(e,t,[r,a],o)}}const ee=class extends u{constructor(e,t){super(),this.field=e,this.opts=i(t,J),this.gl_elems=null,this.contours=null}async updateField(e){if(this.field=e,null===this.gl_elems)return;const t=this.gl_elems.gl,n=await this.getContours(),r=[];Object.entries(n).forEach(([e,t])=>{const n=parseFloat(e),a=(o=this.opts.line_style)in R||Array.isArray(o)&&o.length>0&&o.map(e=>"number"==typeof e).reduce((e,t)=>e&&t,!0)?this.opts.line_style:this.opts.line_style(n);var o;const i="number"==typeof this.opts.line_width?this.opts.line_width:this.opts.line_width(n),s=t.map(e=>{const t={vertices:e};return null!==this.opts.cmap&&(t.data=e.map(()=>n)),t}),l=r.filter(e=>e.line_style==a&&e.line_width==i);let c;0==l.length?(c={data:[],line_width:i,line_style:a},r.push(c)):c=l[0],c.data=c.data.concat(s)});const a=r.map(async e=>{const n={line_width:e.line_width,line_style:e.line_style};return null!==this.opts.cmap?n.cmap=this.opts.cmap:n.color=this.opts.color,await O.make(t,e.data,n)});Promise.all(a).then(e=>{null!==this.gl_elems&&(this.contours=e,this.gl_elems.map.triggerRepaint())})}async getContours(){const e=null===this.opts.levels?void 0:this.opts.levels;return await this.field.getContours({interval:this.opts.interval,levels:e,quad_as_tri:this.opts.quad_as_tri})}async onAdd(e,t){this.gl_elems={gl:t,map:e},await this.updateField(this.field)}render(e,t){if(null===this.gl_elems||null===this.contours)return;const n=this.gl_elems,r=n.map.getZoom(),a=n.map.getCanvas().width,o=n.map.getCanvas().height,i=n.map.getBearing(),s=n.map.getPitch();this.contours.forEach(n=>n.render(e,t,[a,o],r,i,s))}};var te=n(3830),ne=n.n(te);n.p;let re=null;function ae(e){return null===re&&(re=ne()({locateFile:(t,n)=>(void 0===e.document_script?n:e.document_script)+t})),re}function oe(e){return e instanceof Float32Array?"float32":e instanceof Uint8Array?"uint8":"float16"}class ie{constructor(e,t){if(this.grid=e,this.data=t,e.ni*e.nj!=t.length)throw`Data size (${t.length}) doesn't match the grid dimensions (${e.ni} x ${e.nj}; expected ${e.ni*e.nj} points)`;this.contour_cache=new o(async e=>await async function(e,t,n){if(void 0===n.interval&&void 0===n.levels)throw"Must supply either an interval or levels to contourCreator()";const r=void 0===n.interval?0:n.interval,a=void 0!==n.quad_as_tri&&n.quad_as_tri,o=await ae({}),i=t.getGridCoords(),s=e instanceof Float32Array?o.getContourLevelsFloat32:o.getContourLevelsFloat16,l=e instanceof Float32Array?o.makeContoursFloat32:o.makeContoursFloat16,c=void 0===n.levels?s(e,t.ni,t.nj,r):n.levels;return l(e,i.x,i.y,c,(e,n)=>t.transform(e,n,{inverse:!0}),a)}(this.data,this.grid,e))}getTextureData(){const e=this.data,t=oe(e);return"float32"==t||"uint8"==t?e:new Uint16Array(e.buffer)}getWGLTextureSpec(e,t){const n=this.getTextureData(),{format:r,type:a,row_alignment:o}=p(e,oe(this.data));return{format:r,type:a,width:this.grid.ni,height:this.grid.nj,image:n,mag_filter:t,row_alignment:o}}async getContours(e){return await this.contour_cache.getValue(e)}static aggregateFields(e,...t){const n=new(s(t[0].data))(function*(e,t){for(const n of e)yield t(n)}(function*(...e){const t=e.map(e=>e[Symbol.iterator]());for(;;){const e=t.map(e=>e.next());if(e.some(e=>e.done))break;yield e.map(e=>e.value)}}(...t.map(e=>e.data)),t=>e(...t)));return new ie(t[0].grid,n)}sampleField(e,t){return this.grid.sampleNearestGridPoint(e,t,this.data).sample}}class se{constructor(e,t,n,r){r=void 0===r?{}:r,this.u=new ie(e,t),this.v=new ie(e,n),this.relative_to=void 0===r.relative_to?"grid":r.relative_to}getTextureData(){const e=this.u.data,t=this.v.data,n=oe(e),r=oe(e);return{u:"float32"==n||"uint8"==n?e:new Uint16Array(e.buffer),v:"float32"==r||"uint8"==r?t:new Uint16Array(t.buffer)}}getWGLTextureSpecs(e,t){const{u:n,v:r}=this.getTextureData(),{format:a,type:o,row_alignment:i}=p(e,oe(this.u.data));return{u:{format:a,type:o,width:this.grid.ni,height:this.grid.nj,image:n,mag_filter:t,row_alignment:i},v:{format:a,type:o,width:this.grid.ni,height:this.grid.nj,image:r,mag_filter:t,row_alignment:i}}}getThinnedField(e,t){const n=this.grid.getThinnedGrid(e,t),r=n.thinDataArray(this.grid,this.u.data),a=n.thinDataArray(this.grid,this.v.data);return new se(n,r,a,{relative_to:this.relative_to})}get grid(){return this.u.grid}sampleField(e,t){const n=this.grid.sampleNearestGridPoint(e,t,this.u.data),r=this.grid.sampleNearestGridPoint(e,t,this.v.data),a="earth"==this.relative_to?0:this.grid.getVectorRotationAtPoint(n.sample_lon,n.sample_lat),o=Math.hypot(n.sample,r.sample);let i=180*(Math.PI/2-Math.atan2(-r.sample,-n.sample)+a)/Math.PI;return i>360&&(i-=360),i<0&&(i+=360),[i,o]}}class le{constructor(e,t){this.profiles=t,this.grid=e}getStormMotionGrid(){const e=this.profiles,t=new y.l(this.grid.ni*this.grid.nj).fill(parseFloat("nan")),n=new y.l(this.grid.ni*this.grid.nj).fill(parseFloat("nan"));return e.forEach(e=>{const r=e.ilon+this.grid.ni*e.jlat;c(e)?(t[r]=e.smu,n[r]=e.smv):(t[r]=0,n[r]=0)}),new se(this.grid,t,n,{relative_to:"grid"})}getProfileCoords(){const{lats:e,lons:t}=this.grid.getEarthCoords(),n=new Float32Array(this.profiles.length),r=new Float32Array(this.profiles.length);return this.profiles.forEach((a,o)=>{const i=a.ilon+a.jlat*this.grid.ni;n[o]=e[i],r[o]=t[i]}),{lats:n,lons:r}}}class ce{constructor(e,t){this.grid=e,this.data=t}getScalar(e){const t=this.data.map(t=>t[e]);if(!t.map(e=>"number"==typeof e||null===e).reduce((e,t)=>e&&t,!0))throw`It doesn't look like ${e} contains scalar numerical data`;return t}getStrings(e){const t=this.data.map(t=>t[e]);if(!t.map(e=>"string"==typeof e||null===e).reduce((e,t)=>e&&t,!0))throw`It doesn't look like ${e} contains string data`;return t}getVector(e){const t=this.data.map(t=>t[e]);if(!t.map(e=>Array.isArray(e)).reduce((e,t)=>e&&t,!0))throw`It doesn't look like ${e} contains vector data`;const n=t,r=new y.l(this.grid.ni*this.grid.nj).fill(parseFloat("nan")),a=new y.l(this.grid.ni*this.grid.nj).fill(parseFloat("nan"));return n.forEach(([e,t],n)=>{if(null===e||null===t)return;const[o,i]=((e,t)=>[-e*Math.sin(t*Math.PI/180),-e*Math.cos(t*Math.PI/180)])(e,t);r[n]=o,a[n]=i}),new se(this.grid,r,a,{relative_to:"earth"})}}const he=new T([0,1],["#000000"],{overflow_color:"#000000",underflow_color:"#000000"}),de={cmap:[he],cmap_mask:null,opacity:1};class fe extends u{constructor(e,t){super(),this.field=e,this.opts=i(t,de),this.opts.cmap=Array.isArray(this.opts.cmap)?this.opts.cmap:[this.opts.cmap],this.cmap_gpu=this.opts.cmap.map(e=>new I(e)),this.gl_elems=null,this.fill_texture=null,this.mask_texture=null,this.image_mag_filter=null,this.cmap_mag_filter=null}async updateField(e,t){if(this.field=e,null===this.image_mag_filter||null===this.cmap_mag_filter)throw"Implement magnification filters in a subclass";if(null===this.gl_elems)return;const n=this.gl_elems.gl,r=this.gl_elems.map,a=this.field.getWGLTextureSpec(n,this.image_mag_filter);if(null===this.fill_texture?this.fill_texture=new w.C0(n,a):this.fill_texture.setImageData(a),void 0!==t){if(null===this.opts.cmap_mask)return void console.warn("A mask was passed to updateField on a Fill component that didn't have a mask. The updated mask will be ignored.");const e=new ie(this.field.grid,t).getWGLTextureSpec(n,n.NEAREST);null===this.mask_texture?this.mask_texture=new w.C0(n,e):this.mask_texture.setImageData(e)}r.triggerRepaint()}async onAdd(e,t){const{vertices:n,texcoords:r}=await this.field.grid.getWGLBuffers(t);this.cmap_gpu.forEach(e=>{if(null===this.image_mag_filter||null===this.cmap_mag_filter)throw"Implement magnification filters in a subclass";e.setupShaderVariables(t,this.cmap_mag_filter)});const a=[];null!==this.opts.cmap_mask&&a.push("MASK");const o=new k("#version 300 es\n\nuniform int u_offset;\n\nin vec2 a_pos;\nin vec2 a_tex_coord;\n\nout highp vec2 v_tex_coord;\n\nvoid main() {\n    float globe_width = 1.;\n    vec2 globe_offset = vec2(globe_width * float(u_offset), 0.);\n\n    gl_Position = projectTile(a_pos.xy + globe_offset);\n    v_tex_coord = a_tex_coord;\n}",I.applyShader("#version 300 es\n\nin highp vec2 v_tex_coord;\n\nuniform sampler2D u_fill_sampler;\n\n#ifdef MASK\nuniform sampler2D u_mask_sampler;\n#endif\n\nuniform highp float u_opacity;\n#ifdef MASK\nuniform int u_mask_val;\n#endif\n\nout highp vec4 fragColor;\n\nvoid main() {\n    highp float fill_val = texture(u_fill_sampler, v_tex_coord).r;\n\n    int draw_mask = 1;\n\n#ifdef MASK\n    highp float mask_val = texture(u_mask_sampler, v_tex_coord).r;\n    draw_mask = int(mask_val * 255.0) == u_mask_val ? 1 : 0;\n#endif\n\n    if (isnan(fill_val) || draw_mask == 0) {\n        discard;\n    }\n\n    lowp vec4 color = apply_colormap(fill_val);\n    color.a = color.a * u_opacity;\n    fragColor = color;\n}"),a);this.gl_elems={gl:t,shader_manager:o,map:e,vertices:n,texcoords:r},this.updateField(this.field,null===this.opts.cmap_mask?void 0:this.opts.cmap_mask)}render(e,t){if(null===this.gl_elems||null===this.fill_texture)return;const n=this.gl_elems,r=d(t),a=this.gl_elems.shader_manager.getShaderProgram(e,r.shaderData);a.use({a_pos:n.vertices,a_tex_coord:n.texcoords},{u_opacity:this.opts.opacity,...this.gl_elems.shader_manager.getShaderUniforms(r)},{u_fill_sampler:this.fill_texture}),this.cmap_gpu.forEach((t,n)=>{a.setUniforms({u_offset:0}),null!==this.opts.cmap_mask&&null!==this.mask_texture&&(a.setUniforms({u_mask_val:n+1}),a.bindTextures({u_mask_sampler:this.mask_texture})),t.bindShaderVariables(a),e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),a.draw(),"maplibre"==r.type&&r.shaderData.define.includes("GLOBE")||(a.setUniforms({u_offset:-2}),a.draw(),a.setUniforms({u_offset:-1}),a.draw(),a.setUniforms({u_offset:1}),a.draw())})}}class _e extends fe{constructor(e,t){super(e,t)}async updateField(e,t){await super.updateField(e,t)}async onAdd(e,t){this.image_mag_filter=t.NEAREST,this.cmap_mag_filter=t.LINEAR,await super.onAdd(e,t)}render(e,t){super.render(e,t)}}class ue extends fe{constructor(e,t){super(e,t)}async updateField(e,t){await super.updateField(e,t)}async onAdd(e,t){this.image_mag_filter=t.LINEAR,this.cmap_mag_filter=t.NEAREST,await super.onAdd(e,t)}render(e,t){super.render(e,t)}}class pe{constructor(e,t,n,r,a,o,i){i=void 0===i?{}:i,this.color=void 0===i.color?new x([0,0,0,1]):i.color,this.cmap=void 0===i.cmap?null:i.cmap,this.rotate_with_map=void 0===i.rotate_with_map||i.rotate_with_map,this.field=e,this.spec=a,this.size_multiplier=o,this.thin_fac=t,this.max_zoom=n,this.billboard_image=r,this.gl_elems=null,this.wind_textures=null}updateField(e){if(this.field=e,null===this.gl_elems)return;const t=this.gl_elems.gl,n=this.field.getThinnedField(this.thin_fac,this.max_zoom),{u:r,v:a}=n.getWGLTextureSpecs(t,t.NEAREST);null===this.wind_textures?this.wind_textures={u:new w.C0(t,r),v:new w.C0(t,a)}:(this.wind_textures.u.setImageData(r),this.wind_textures.v.setImageData(a))}async setup(e){const t=this.field.grid.getThinnedGrid(this.thin_fac,this.max_zoom),n=new Float32Array([0,1,2,3]),r=new w.$w(e,n,1,e.TRIANGLE_STRIP),{vertices:a,texcoords:o}=await t.getWGLBillboardBuffers(e,this.thin_fac,this.max_zoom),{rotation:i}=t.getVectorRotationTexture(e,"earth"==this.field.relative_to),s=new w.C0(e,this.billboard_image),l=[];let c="#version 300 es\n\nin highp vec2 v_tex_coord;\n\n#ifdef COLORMAP\nin highp float v_mag;\n#else\nuniform lowp vec4 u_bb_color;\n#endif\n\nuniform sampler2D u_sampler;\n\nout highp vec4 fragColor;\n\nvoid main() {\n    lowp vec4 tex_color = texture(u_sampler, v_tex_coord);\n\n    lowp vec4 color;\n#ifdef COLORMAP\n    color = apply_colormap(v_mag);\n#else\n    color = u_bb_color;\n#endif\n\n    color.a *= tex_color.a;\n    fragColor = color; \n}",h=null;null!==this.cmap&&(c=I.applyShader(c),h=new I(this.cmap),h.setupShaderVariables(e,e.NEAREST),l.push("COLORMAP"));const d=new k("#version 300 es\n\nuniform int u_offset;\n\nin vec2 a_pos;    \nin vec2 a_tex_coord; \nin lowp float a_geom; \nuniform lowp float u_bb_size;\nuniform lowp float u_map_aspect;\nuniform lowp float u_zoom;\nuniform lowp float u_bb_width;  \nuniform lowp float u_bb_height; \nuniform highp float u_bb_mag_bin_size;\nuniform highp float u_bb_mag_wrap;\nuniform int u_rotate_with_map;\n\nuniform sampler2D u_u_sampler;\nuniform sampler2D u_v_sampler;\nuniform sampler2D u_rot_sampler;\n\nout highp vec2 v_tex_coord;\n#ifdef COLORMAP\nout highp float v_mag;\n#endif\n\nmat4 scalingMatrix(float x_scale, float y_scale, float z_scale) {\n    return mat4(x_scale, 0.0,     0.0,     0.0,\n                0.0,     y_scale, 0.0,     0.0,\n                0.0,     0.0,     z_scale, 0.0,\n                0.0,     0.0,     0.0,     1.0);\n}\n\nmat4 rotationZMatrix(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat4( c,  s,  0., 0.,\n                -s,  c,  0., 0.,\n                 0., 0., 1., 0.,\n                 0., 0., 0., 1.);\n}\n\nmat4 rotationXMatrix(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat4( 1.,  0., 0., 0.,\n                 0.,  c,  s,  0.,\n                 0., -s,  c,  0.,\n                 0.,  0., 0., 1.);\n}\n\nvoid main() {\n    float globe_width = 1.;\n    vec2 globe_offset = vec2(globe_width * float(u_offset), 0.);\n\n    mat4 map_stretch_matrix = scalingMatrix(1.0, 1. / u_map_aspect, 1.0);\n\n    vec4 pivot_pos = projectTile(a_pos.xy + globe_offset);\n    float globe_rotation = 0.0;\n\n    if (u_rotate_with_map == 1) {\n        vec4 pivot_pos_ihat = projectTile(a_pos.xy + globe_offset + vec2(1e-5, 0.));\n        \n        vec2 pivot_east = normalize((inverse(map_stretch_matrix) * (pivot_pos_ihat - pivot_pos)).xy);\n        globe_rotation = atan(pivot_east.x, pivot_east.y) - 3.141592654 / 2.0;\n    }\n\n    highp float min_zoom = floor(a_tex_coord.x);\n    lowp float corner = a_geom;\n\n    vec2 data_texcoord = a_tex_coord;\n    data_texcoord.x = fract(data_texcoord.x);\n\n    highp float u = texture(u_u_sampler, data_texcoord).r;\n    highp float v = texture(u_v_sampler, data_texcoord).r;\n    highp float rot = texture(u_rot_sampler, data_texcoord).r;\n\n    lowp float bb_aspect = u_bb_width / u_bb_height;\n    lowp float ang = (abs(u) < 1e-6 && abs(v) < 1e-6) ? 0. : atan(v, u) - 3.141592654 / 2.0;\n    highp float mag = length(vec2(u, v));\n#ifdef COLORMAP\n    v_mag = mag;\n#endif\n    mag = floor(mag / u_bb_mag_bin_size + 0.5) * u_bb_mag_bin_size;\n\n    vec4 offset = vec4(0.0, 0.0, 0.0, 0.0);\n    vec2 texcoord = vec2(0.0, 0.0);\n    \n    if (u_zoom >= min_zoom) {\n        \n        vec2 tex_loc = vec2(mod(mag, u_bb_mag_wrap - 1e-5) / u_bb_mag_bin_size * u_bb_width, floor(mag / (u_bb_mag_wrap - 1e-5)) * u_bb_height);\n\n        if (corner < 0.5) {\n            offset = vec4(-u_bb_size, u_bb_size, 0., 0.);\n            texcoord = tex_loc;\n        }\n        else if (corner < 1.5) {\n            offset = vec4(u_bb_size, u_bb_size, 0., 0.);\n            texcoord = tex_loc + vec2(u_bb_width, 0.0);\n        }\n        else if (corner < 2.5) {\n            offset = vec4(-u_bb_size, -u_bb_size * (2. / bb_aspect - 1.), 0., 0.);\n            texcoord = tex_loc + vec2(0.0, u_bb_height);\n        }\n        else if (corner < 3.5) {\n            offset = vec4(u_bb_size, -u_bb_size * (2. / bb_aspect - 1.), 0., 0.);\n            texcoord = tex_loc + vec2(u_bb_width, u_bb_height);\n        }\n\n        mat4 barb_rotation = rotationZMatrix(ang - globe_rotation - rot);\n        offset = map_stretch_matrix * barb_rotation * offset;\n    }\n\n    gl_Position = pivot_pos + offset;\n    v_tex_coord = texcoord;\n}",c,l);this.gl_elems={gl:e,shader_manager:d,geom_vertices:r,vertices:a,texcoords:o,texture:s,proj_rot_texture:i,cmap_gpu:h}}render(e,t,[n,r],a,o,i){if(null===this.gl_elems||null===this.wind_textures)return;const s=d(t),l=this.gl_elems.shader_manager.getShaderProgram(e,s.shaderData),c=this.gl_elems,h=this.spec.BB_HEIGHT*(r/n)*this.size_multiplier,f=this.spec.BB_WIDTH/this.spec.BB_TEX_WIDTH,_=this.spec.BB_HEIGHT/this.spec.BB_TEX_HEIGHT;l.use({a_geom:c.geom_vertices,a_pos:c.vertices,a_tex_coord:c.texcoords},{u_bb_size:h,u_bb_width:f,u_bb_height:_,u_bb_mag_bin_size:this.spec.BB_MAG_BIN_SIZE,u_bb_mag_wrap:this.spec.BB_MAG_WRAP,u_offset:0,u_map_aspect:r/n,u_zoom:a,u_rotate_with_map:this.rotate_with_map?1:0,...this.gl_elems.shader_manager.getShaderUniforms(s)},{u_sampler:c.texture,u_u_sampler:this.wind_textures.u,u_v_sampler:this.wind_textures.v,u_rot_sampler:c.proj_rot_texture}),null!==c.cmap_gpu?c.cmap_gpu.bindShaderVariables(l):l.setUniforms({u_bb_color:this.color.toRGBATuple()}),e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),l.draw(),"maplibre"==s.type&&s.shaderData.define.includes("GLOBE")||(l.setUniforms({u_offset:-2}),l.draw(),l.setUniforms({u_offset:-1}),l.draw(),l.setUniforms({u_offset:1}),l.draw())}}const me={BB_WIDTH:85,BB_HEIGHT:256,BB_TEX_WIDTH:1024,BB_TEX_HEIGHT:1024,BB_MAG_MAX:235,BB_MAG_WRAP:60,BB_MAG_BIN_SIZE:5};const ge={color:"#000000",cmap:null,line_width:2,barb_size_multiplier:1,thin_fac:1};const be=class extends u{constructor(e,t){super(),this.fields=e,this.opts=i(t,ge),this.color=x.fromHex(this.opts.color),this.barb_texture=function(e,t){let n=document.createElement("canvas");function r(t,n,r,a){const o=e.BB_WIDTH/2-4,i=o/2;if(a<2.5)t.beginPath(),t.arc(n,r,o/2,0,2*Math.PI),t.stroke();else{let e=0,s=a,l=0;const c=Math.floor((s+2.5)/50);l+=c*o/2+i+(c-1)*i/2,s-=50*c;const h=Math.floor((s+2.5)/10);l+=h*i,s-=10*h,l+=Math.floor((s+2.5)/5)*i,a<7.5&&(l+=i),l=Math.max(120,l),t.beginPath(),t.moveTo(n,r),t.lineTo(n,r+l),s=a,e=r+l;let d=!1,f=!0;for(;s>47.5;)d&&(e+=i/2),f||t.moveTo(n,e),t.lineTo(n-o,e),t.lineTo(n,e-o/2),e-=o/2+i,s-=50,d=!0,f=!1;for(;s>7.5;)f||t.moveTo(n,e),t.lineTo(n-o,e+o/2),e-=i,s-=10,f=!1;for(a<7.5&&(e-=i);s>2.5;)t.moveTo(n,e),t.lineTo(n-o/2,e+o/4),s-=5;t.stroke()}}n.width=e.BB_TEX_WIDTH,n.height=e.BB_TEX_HEIGHT;let a=n.getContext("2d");if(null===a)throw"Could not get rendering context for the wind barb canvas";a.lineWidth=t,a.miterLimit=4;for(let o=0;o<=e.BB_MAG_MAX;o+=e.BB_MAG_BIN_SIZE)r(a,o%e.BB_MAG_WRAP/e.BB_MAG_BIN_SIZE*e.BB_WIDTH+e.BB_WIDTH/2,Math.floor(o/e.BB_MAG_WRAP)*e.BB_HEIGHT+e.BB_WIDTH/2,o);return n}(me,this.opts.line_width/this.opts.barb_size_multiplier*4),this.gl_elems=null}async updateField(e){this.fields=e,null!==this.gl_elems&&(this.gl_elems.barb_billboards.updateField(e),this.gl_elems.map.triggerRepaint())}async onAdd(e,t){t.getExtension("OES_texture_float"),t.getExtension("OES_texture_float_linear");const n=e.getMaxZoom(),r={format:t.RGBA,type:t.UNSIGNED_BYTE,image:this.barb_texture,mag_filter:t.NEAREST},a=null===this.opts.cmap?void 0:this.opts.cmap,o=new pe(this.fields,this.opts.thin_fac,n,r,me,.1*this.opts.barb_size_multiplier,{color:this.color,cmap:a});await o.setup(t),this.gl_elems={map:e,barb_billboards:o},this.updateField(this.fields)}render(e,t){if(null===this.gl_elems)return;const n=this.gl_elems,r=n.map.getZoom(),a=n.map.getCanvas().width,o=n.map.getCanvas().height,i=n.map.getBearing(),s=n.map.getPitch();n.barb_billboards.render(e,t,[a,o],r,i,s)}},ve={colors:["#000000"],opacity:1};const we=class extends u{constructor(e,t){super(),this.field=e,this.opts=i(t,ve),this.color_components=this.opts.colors.map(e=>x.fromHex(e).toRGBATuple()).flat(),this.gl_elems=null,this.fill_texture=null}async updateField(e){if(this.field=e,null===this.gl_elems)return;const t=this.gl_elems.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,2);const n=this.field.getWGLTextureSpec(t,t.NEAREST);null===this.fill_texture?this.fill_texture=new w.C0(t,n):this.fill_texture.setImageData(n)}async onAdd(e,t){t.getExtension("OES_texture_float");const{vertices:n,texcoords:r}=await this.field.grid.getWGLBuffers(t),a=n,o=r,i=new k("#version 300 es\n\nuniform int u_offset;\n\nin vec2 a_pos;\nin vec2 a_tex_coord;\n\nout highp vec2 v_tex_coord;\n\nvoid main() {\n    float globe_width = 1.;\n    vec2 globe_offset = vec2(globe_width * float(u_offset), 0.);\n\n    gl_Position = projectTile(a_pos.xy + globe_offset);\n    v_tex_coord = a_tex_coord;\n}","#version 300 es\n\n#define MAX_N_COLORS 24\n\nin highp vec2 v_tex_coord;\n\nuniform sampler2D u_fill_sampler;\nuniform lowp vec4 u_colors[MAX_N_COLORS];\nuniform int u_num_colors;\nuniform highp float u_opacity;\n\nout highp vec4 fragColor;\n\nvoid main() {\n    highp float fill_val = texture(u_fill_sampler, v_tex_coord).r;\n    \n    if (fill_val < 0.5) {\n        discard;\n    }\n\n    lowp vec4 color = vec4(0., 0., 0., 0.);\n\n    for (int nclr = 0; nclr < MAX_N_COLORS ; nclr++) {\n        if (nclr >= u_num_colors || fill_val < 0.99) { break; }\n\n        lowp float mem_active = mod(fill_val, 2.);\n        color = mix(color, u_colors[nclr], mem_active);\n        fill_val = floor(fill_val / 2.);\n    }\n\n    color.a = color.a * u_opacity;\n    fragColor = color;\n}",[]);this.gl_elems={gl:t,shader_manager:i,vertices:a,texcoords:o},this.updateField(this.field)}render(e,t){if(null===this.gl_elems||null===this.fill_texture)return;const n=this.gl_elems,r=d(t),a=this.gl_elems.shader_manager.getShaderProgram(e,r.shaderData);a.use({a_pos:n.vertices,a_tex_coord:n.texcoords},{u_opacity:this.opts.opacity,u_colors:this.color_components,u_num_colors:this.opts.colors.length,u_offset:0,...this.gl_elems.shader_manager.getShaderUniforms(r)},{u_fill_sampler:this.fill_texture}),e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),a.draw(),"maplibre"==r.type&&r.shaderData.define.includes("GLOBE")||(a.setUniforms({u_offset:-2}),a.draw(),a.setUniforms({u_offset:-1}),a.draw(),a.setUniforms({u_offset:1}),a.draw())}},ye={BB_WIDTH:256,BB_HEIGHT:256,BB_TEX_WIDTH:256,BB_TEX_HEIGHT:256,BB_MAG_MAX:1e3,BB_MAG_WRAP:1e3,BB_MAG_BIN_SIZE:1e3};const xe={bgcolor:"#000000",thin_fac:1,hodo_line_width:2.5,background_line_width:1.5,height_cmap:new T([0,1,3,6,9],["#ffffcc","#a1dab4","#41b6c4","#225ea8"]),max_wind_speed_ring:80};const Te=class extends u{constructor(e,t){super(),this.profile_field=e,this.opts=i(t,xe),this.hodo_bg_texture=function(e,t){let n=document.createElement("canvas");n.width=ye.BB_TEX_WIDTH,n.height=ye.BB_TEX_HEIGHT;let r=n.getContext("2d");if(null===r)throw"Could not get rendering context for the hodograph background canvas";r.lineWidth=e;for(let a=ye.BB_TEX_WIDTH/4;a<=ye.BB_TEX_WIDTH/2;a+=ye.BB_TEX_WIDTH/4)r.beginPath(),r.arc(ye.BB_TEX_WIDTH/2,ye.BB_TEX_WIDTH/2,a-e/2,0,2*Math.PI),r.stroke();if(t){const e=ye.BB_TEX_WIDTH/2,t=ye.BB_TEX_WIDTH/2,n=20;r.beginPath(),r.moveTo(e,t),r.lineTo(e+n/2,t+n),r.lineTo(e-n/2,t+n),r.lineTo(e,t),r.fill()}else r.beginPath(),r.arc(ye.BB_TEX_WIDTH/2,ye.BB_TEX_WIDTH/2,e,0,2*Math.PI),r.fill();return n}(2.5*this.opts.background_line_width,c(e.profiles[0])),this.hodo_scale=(ye.BB_TEX_WIDTH-this.opts.background_line_width/2)/(ye.BB_TEX_WIDTH*this.opts.max_wind_speed_ring),this.bg_size=140,this.gl_elems=null,this.line_elems=null}async updateField(e){if(this.profile_field=e,null===this.gl_elems)return;const t=this.gl_elems.gl;this.gl_elems.bg_billboard.updateField(e.getStormMotionGrid());const n=this.profile_field.profiles,{lats:r,lons:a}=this.profile_field.getProfileCoords(),o=this.profile_field.grid.getMinVisibleZoom(this.opts.thin_fac),i=n.map((e,t)=>({offsets:[...e.u].map((t,n)=>c(e)?[t-e.smu,e.v[n]-e.smv]:[t,e.v[n]]),vertices:[...e.u].map(e=>[a[t],r[t]]),zoom:o[t],data:[...e.z]})),s=await O.make(t,i,{line_width:this.opts.hodo_line_width,cmap:this.opts.height_cmap,offset_scale:this.hodo_scale*this.bg_size,offset_rotates_with_map:!1}),l=n.map((e,t)=>{if(!c(e))return{vertices:[]};const n=Math.hypot(e.smu,e.smv),i=Math.PI/2-Math.atan2(-e.smv,-e.smu);return{offsets:[[2*Math.sin(i),2*Math.cos(i)],[n*Math.sin(i),n*Math.cos(i)]],vertices:[[a[t],r[t]],[a[t],r[t]]],zoom:o[t]}}),h=await O.make(t,l,{line_width:this.opts.background_line_width,color:this.opts.bgcolor,offset_scale:this.hodo_scale*this.bg_size,offset_rotates_with_map:!1});this.line_elems={hodo_line:s,sm_line:h}}async onAdd(e,t){const n={format:t.RGBA,type:t.UNSIGNED_BYTE,image:this.hodo_bg_texture,mag_filter:t.NEAREST},r=e.getMaxZoom(),a=new pe(this.profile_field.getStormMotionGrid(),this.opts.thin_fac,r,n,ye,.004*this.bg_size,{color:x.fromHex(this.opts.bgcolor),rotate_with_map:!1});await a.setup(t),this.gl_elems={gl:t,map:e,bg_billboard:a},this.updateField(this.profile_field)}render(e,t){if(null===this.gl_elems||null===this.line_elems)return;const n=this.gl_elems,r=this.line_elems,a=n.map.getZoom(),o=n.map.getCanvas().width,i=n.map.getCanvas().height,s=n.map.getBearing(),l=n.map.getPitch();r.hodo_line.render(e,t,[o,i],a,s,l),r.sm_line.render(e,t,[o,i],a,s,s),n.bg_billboard.render(e,t,[o,i],a,s,l)}},Ee={"0/8":59658,"1/8":59659,"2/8":59660,"3/8":59661,"4/8":59662,"5/8":59663,"6/8":59664,"7/8":59665,"8/8":59666,clr:59658,few:59660,sct:59662,bkn:59664,ovc:59666,obsc:59667,va:59810,fu:59810,hz:59811,du:59812,bldu:59814,sa:59814,blsa:59814,vcblsa:59814,vcbldu:59814,blpy:59814,po:59816,vcpo:59816,vcds:59817,vcss:59817,br:59818,bcbr:59818,bc:59819,mifg:59820,vcts:59821,virga:59822,vcsh:59824,ts:59825,thdr:59825,vctshz:59825,tsfzfg:59825,tsbr:59825,tsdz:59825,vctsup:59825,"-tsup":59825,tsup:59825,"+tsup":59825,sq:59826,fc:59827,"+fc":59827,ds:59839,ss:59839,drsa:59839,drdu:59839,"+ds":59842,"+ss":59842,drsn:59844,"+drsn":59845,"-blsn":59846,blsn:59846,"+blsn":59847,vcblsn:59846,vcfg:59848,bcfg:59849,prfg:59852,fg:59853,fzfg:59857,"-vctsdz":59859,"-dz":59859,"-dzbr":59859,vctsdz:59861,dz:59861,"+vctsdz":59863,"+dz":59863,"-fzdz":59864,"-fzdzsn":59864,fzdz:59865,"+fzdz":59865,fzdzsn:59865,"-dzra":59866,dzra:59867,"+dzra":59867,"-ra":59869,"-rabr":59869,ra:59871,rabr:59871,rafg:59871,vcra:59871,"+ra":59873,"-fzra":59874,"-fzrasn":59874,"-fzrabr":59874,"-fzrapl":59874,"-fzrasnpl":59874,tsfzrapl:59875,"-tsfzra":59875,fzra:59875,"+fzra":59875,fzrasn:59875,tsfzra:59875,"-dzsn":59876,"-rasn":59876,"-snra":59876,"-sndz":59876,rasn:59877,"+rasn":59877,snra:59877,dzsn:59877,sndz:59877,"+dzsn":59877,"+sndz":59877,"-sn":59879,"-snbr":59879,sn:59881,"+sn":59883,"-snsg":59885,sg:59885,"-sg":59885,ic:59886,"-fzdzpl":59887,"-fzdzplsn":59887,fzdzpl:59887,"-fzraplsn":59887,fzrapl:59887,"+fzrapl":59887,"-rapl":59887,"-rasnpl":59887,"-raplsn":59887,"+rapl":59887,rapl:59887,"-snpl":59887,snpl:59887,"-pl":59887,pl:59887,"-plsn":59887,"-plra":59887,plra:59887,"-pldz":59887,"+pl":59887,plsn:59887,plup:59887,"+plsn":59887,"-sh":59888,"-shra":59888,sh:59889,shra:59889,"+sh":59889,"+shra":59889,"-shrasn":59891,"-shsnra":59891,"+shrabr":59892,shrasn:59892,"+shrasn":59892,shsnra:59892,"+shsnra":59892,"-shsn":59893,shsn:59894,"+shsn":59894,"-gs":59895,"-shgs":59895,fzraplgs:59896,"-sngs":59896,gsplsn:59896,gspl:59896,plgssn:59896,gs:59896,shgs:59896,"+gs":59896,"+shgs":59896,"-gr":59897,"-shgr":59897,"-sngr":59898,gr:59898,shgr:59898,"+gr":59898,"+shgr":59898,"-tsrasn":59907,tsrasn:59907,"-tssnra":59907,tssnra:59907,"-vctsra":59908,"-tsra":59908,tsra:59908,"-tsdz":59908,vctsra:59908,tspl:59909,"-tssn":59909,"-tspl":59909,tssn:59909,"-vctssn":59909,vctssn:59909,tsplsn:59909,tssnpl:59909,"-tssnpl":59909,"-tsragr":59910,tsrags:59910,tsragr:59910,tsgs:59910,tsgr:59910,"+tsfzrapl":59911,"+vctsra":59912,"+tsra":59912,"+tsfzra":59912,"+tssn":59913,"+tspl":59913,"+tsplsn":59913,"+vctssn":59913,tssa:59914,tsds:59914,tsdu:59914,"+tsgs":59915,"+tsgr":59915,"+tsrags":59915,"+tsragr":59915,in:59750,"-up":59750,up:59750,"+up":59751,"-fzup":59756,fzup:59756,"+fzup":59757},Ae={config:{},thin_fac:1,font_face:"Trebuchet MS",font_size:12,font_url_template:""};function Me(e,t){let n,r,a,o;return t=void 0===t?10:t,"ll"==e||"cl"==e||"ul"==e?(n="right",a=-t):"lc"==e||"c"==e||"uc"==e?(n="center",a=0):(n="left",a=t),"ll"==e||"lc"==e||"lr"==e?(r="top",o=-t):"cl"==e||"c"==e||"cr"==e?(r="middle",o=0):(r="baseline",o=t),{horizontal_align:n,vertical_align:r,offset_x:a,offset_y:o}}const Se=class extends u{constructor(e,t){super(),this.field=e,this.opts=i(t,Ae),this.gl_elems=null,this.text_components=null}async updateField(e){if(this.field=e,null===this.gl_elems)return;const t=this.gl_elems.map,n=this.gl_elems.gl,r=this.gl_elems.barb_components,a=t.getStyle(),o=""==this.opts.font_url_template?a.glyphs:this.opts.font_url_template;if(void 0===o)throw"The map style doesn't have any glyph information. Please pass the font_url_template option to StationPlot";const i=o.replace("{fontstack}",this.opts.font_face);let s=0;const l=Object.entries(this.opts.config).map(async([e,t])=>{const a=e;if("number"==t.type||"string"==t.type){const e=t.pos,r=void 0===t.color?x.fromHex("#000000"):x.normalizeColor(t.color),o=void 0===t.halo_color?x.fromHex("#ffffff"):x.normalizeColor(t.halo_color),s=void 0===t.halo||t.halo,l=this.field.grid.getEarthCoords(),c=this.field.grid.getMinVisibleZoom(this.opts.thin_fac);let h;if("number"==t.type){const e=this.field.getScalar(a),n=void 0===t.formatter?e=>null===e?"null":e.toString():t.formatter;h=e.map((e,t)=>({text:n(e),lat:l.lats[t],lon:l.lons[t],min_zoom:c[t]}))}else{h=this.field.getStrings(a).map((e,t)=>({text:null===e?"":e,lat:l.lats[t],lon:l.lons[t],min_zoom:c[t]}))}const d={...Me(e),font_size:this.opts.font_size,halo:s,text_color:r,halo_color:o};return await N.make(n,h,i,d)}if("barb"!=t.type){if("symbol"==t.type){const e=t.pos,r=void 0===t.color?x.fromHex("#000000"):x.normalizeColor(t.color),i=void 0===t.halo_color?x.fromHex("#ffffff"):x.normalizeColor(t.halo_color),s=void 0===t.halo||t.halo,l=this.field.getStrings(a),c=this.field.grid.getEarthCoords(),h=this.field.grid.getMinVisibleZoom(this.opts.thin_fac),d=o.replace("{fontstack}","wx_symbols"),f=l.map((e,t)=>({text:null===e?"":String.fromCharCode(Ee[e]),lat:c.lats[t],lon:c.lons[t],min_zoom:h[t]})),_={...Me(e),font_size:this.opts.font_size,halo:s,text_color:r,halo_color:i};return void 0!==_.offset_x&&(_.offset_x-=3),await N.make(n,f,d,_)}throw`Unknown station plot configuration type ${t.type}`}{const e=this.field.getVector(a);r[s++].updateField(e)}});this.text_components=(await Promise.all(l)).filter(e=>void 0!==e),t.triggerRepaint()}async onAdd(e,t){const n=Object.entries(this.opts.config).map(async([n,r])=>{const a=n;if("barb"==r.type){const n=this.field.getVector(a),o=void 0===r.color?"#000000":r.color,i=void 0===r.barb_size_multipler?1:r.barb_size_multipler,s=new be(n,{thin_fac:this.opts.thin_fac,color:o,barb_size_multiplier:i});return await s.onAdd(e,t),s}}),r=(await Promise.all(n)).filter(e=>void 0!==e);this.gl_elems={map:e,gl:t,barb_components:r},this.updateField(this.field)}render(e,t){if(null===this.gl_elems||null===this.text_components)return;const n=this.gl_elems,r=this.text_components,a=this.gl_elems.barb_components,o=n.map.getCanvas().width,i=n.map.getCanvas().height,s=n.map.getZoom();let l=0,c=0;Object.values(this.opts.config).forEach(n=>{"barb"==n.type?a[c++].render(e,t):r[l++].render(e,t,[o,i],s)})}};class Pe{constructor(e){this.type="custom",this.id=e,this.map=null}repaint(){null!==this.map&&this.map.triggerRepaint()}}class Ce extends Pe{constructor(e,t){super(e),this.field=t}async onAdd(e,t){this.map=e,await this.field.onAdd(e,t)}render(e,t){this.field.render(e,t)}}class Fe extends Pe{constructor(e){super(e),this.fields={},this.field_key=null,this.map=null,this.gl=null}onAdd(e,t){this.map=e,this.gl=t,Object.values(this.fields).forEach(n=>{n.onAdd(e,t).then(e=>{this.repaint()})}),this.repaint()}render(e,t){null!==this.map&&null!==this.gl&&null!==this.field_key&&this.fields.hasOwnProperty(this.field_key)&&null!==this.fields[this.field_key]&&this.fields[this.field_key].render(e,t)}setActiveKey(e){this.field_key;this.field_key=e,this.repaint()}getKeys(){return Object.keys(this.fields)}addField(e,t){this.field_key;null!==this.map&&null!==this.gl&&null!==e&&e.onAdd(this.map,this.gl).then(e=>{this.repaint()}),this.fields[t]=e,null===this.field_key&&(this.field_key=t)}}const Ie=(e,t,n)=>{const r=document.createElementNS("http://www.w3.org/2000/svg",e);return void 0!==t&&Object.entries(t).forEach(([e,t])=>{r.setAttribute(e,t.toString())}),void 0!==n&&n.appendChild(r),r};function ke(e,t){const n=t.label||"",r=t.ticks||e.levels,a=t.orientation||"vertical",o=t.fontface||"sans-serif",i=t.ticklabelsize||12,s=t.size_long||600,l=t.size_short||s/9,c=t.outline_and_text_color||"#000000",h=t.tick_direction||("vertical"==a?"left":"bottom");if("vertical"==a&&("top"==h||"bottom"==h)||"horizontal"==a&&("left"==h||"right"==h))throw`tick_direction of '${h} doesn't match an orientation of ${a}`;const d=e=>e.toString().length,f=d(r[0]),_=d(r[r.length-1]),u=null!==e.underflow_color||null!==e.overflow_color,p=s,m=l,g=Math.max("horizontal"==a?6*Math.max(f,_):8,u?m/(2*Math.sqrt(3)):0);let b,v,w,y,x,T,E,A,M,S,P;"vertical"==a?(b=p,v=m,w="left"==h?m-3-10:3,y=g,x=10,T=p-2*g,E=w+x,M=w+x/2,A=y+T,S=null===e.underflow_color?A:A+m/(2*Math.sqrt(3)),P=null===e.overflow_color?y:y-m/(2*Math.sqrt(3))):(v=p,b=m-6,w=g,y="bottom"==h?3:m-6-3-10,T=10,x=p-2*g,E=w+x,M=y+T/2,A=y+T,S=null===e.underflow_color?w:w-m/(2*Math.sqrt(3)),P=null===e.overflow_color?E:E+m/(2*Math.sqrt(3)));const C=e.colors.length,F=Ie("svg",{width:v,height:b}),I=Ie("g",{},F);let k;k="vertical"==a?"left"==h?{"text-anchor":"end",transform:`translate(${w}, ${y})`}:{transform:`translate(${w+x}, ${y})`}:"bottom"==h?{"text-anchor":"middle",transform:`translate(${w}, ${y+T})`}:{"text-anchor":"middle",transform:`translate(${w}, ${y})`};const R=Ie("g",k,F);if(e.colors.forEach((e,t)=>{let n={};n="vertical"==a?{x:w,y:y+T*(1-(t+1)/C),width:x,height:T/C}:{x:w+x*t/C,y:y,width:x/C,height:T},Ie("rect",{...n,fill:e.toRGBHex(),opacity:e.a},I)}),null!==e.underflow_color){let t;t="vertical"==a?`${E} ${A}, ${M} ${S}, ${w} ${A}, ${E} ${A}`:`${w} ${A}, ${S} ${M}, ${w} ${y}, ${w} ${A}`;const n={points:t,fill:e.underflow_color.toRGBHex(),opacity:e.underflow_color.a};Ie("polygon",n,I)}if(null!==e.overflow_color){let t;t="vertical"==a?`${w} ${y}, ${M} ${P}, ${E} ${y}, ${w} ${y}`:`${E} ${y}, ${P} ${M}, ${E} ${A}, ${E} ${y}`;const n={points:t,fill:e.overflow_color.toRGBHex(),opacity:e.overflow_color.a};Ie("polygon",n,I)}const O=e.levels[0],L=e.levels[e.levels.length-1];let z;r.filter(e=>O<=e&&e<=L).forEach(t=>{const n=e.levels.map(e=>Math.abs(e-t));let r=n.indexOf(n.reduce((e,t)=>Math.min(e,t)));t<=e.levels[r]&&r>0&&(r-=1),r+=(t-e.levels[r])/(e.levels[r+1]-e.levels[r]);const s=Ie("g","vertical"==a?{transform:`translate(0, ${T*(1-r/C)})`}:{transform:`translate(${x*r/C}, 0)`},R);let l,d;l="vertical"==a?"left"==h?{x2:-6}:{x2:6}:"bottom"==h?{y2:6}:{y2:-6},Ie("line",{...l,stroke:c,"stroke-width":1.5},s),d="vertical"==a?"left"==h?{x:-9,dy:"0.32em"}:{x:9,dy:"0.32em"}:"bottom"==h?{y:9,dy:"0.8em"}:{y:-9,dy:"0em"};Ie("text",{...d,fill:c,style:`font-family: ${o}; font-size: ${i}pt`},s).textContent=t.toString()}),z="vertical"==a?`${w} ${y}, ${M} ${P}, ${E} ${y}, ${E} ${A}, ${M} ${S}, ${w} ${A}, ${w} ${y}`:`${w} ${y}, ${E} ${y}, ${P} ${M}, ${E} ${A}, ${w} ${A}, ${S} ${M}, ${w} ${y}`;let j;Ie("polygon",{points:z,stroke:c,"stroke-width":1.5,fill:"none"},F),j="vertical"==a?"left"==h?{transform:`translate(15, ${b/2}) rotate(-90)`}:{transform:`translate(${v-6}, ${b/2}) rotate(-90)`}:"bottom"==h?{transform:`translate(${v/2}, ${b-5})`}:{transform:`translate(${v/2}, 15)`};return Ie("text",{...j,fill:c,"text-anchor":"middle",style:`font-family: ${o};`},F).textContent=n,F}function Re(e,t,n){if(e.length!=t.length)throw`Mismatch between the number of colors (${e.length}) and the number of labels (${t.length})`;const r=void 0===(n=void 0===n?{}:n).n_cols?1:n.n_cols,a=void 0===n.fontface?"sans-serif":n.fontface;let o,i;const s=Math.ceil(e.length/r);i=123*r+5*(r+1),o=20*s+5*(s+1);const l=Ie("svg",{width:i,height:o}),c=Ie("g",{},l);return e.forEach((e,n)=>{const r=t[n],o=n%s,i=Math.floor(n/s);let l=1;"string"!=typeof e&&(l=e.a,e=e.toRGBHex());const h=5+128*i,d=5+25*o;Ie("rect",{x:h,y:d,fill:e,opacity:l,width:20,height:20},c);Ie("text",{...{x:h+20+3,y:d+10,dy:"0.32em"},fill:"#000000",style:`font-size: 0.8em; font-family: ${a};`},c).textContent=r}),l}const Oe={bluered:(e,t,n)=>T.diverging("#0000ff","#ff0000",e,t,n),redblue:(e,t,n)=>T.diverging("#ff0000","#0000ff",e,t,n),pw_speed500mb:A,pw_speed850mb:M,pw_cape:S,pw_t2m:P,pw_td2m:C,nws_storm_clear_refl:F};function Le(e){ae({document_script:(e=void 0===e?{}:e).wasm_base_url})}},1972:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var r=n(1281),a=n(6540),o=n(4848);function i(e){const{cmap:t,...n}=e,i=(0,r.makeColorBar)(t,n),s=a.useRef(null);return a.useEffect(()=>{s.current.innerHTML="",s.current.appendChild(i)}),(0,o.jsx)("div",{ref:s})}},3830:e=>{var t,n=(t="undefined"!=typeof document?document.currentScript?.src:void 0,function(e={}){var n,r,a,o=e,i=new Promise((e,t)=>{r=e,a=t});if(["getExceptionMessage","incrementExceptionRefcount","decrementExceptionRefcount","_memory","___indirect_function_table","onRuntimeInitialized"].forEach(e=>{Object.getOwnPropertyDescriptor(i,e)||Object.defineProperty(i,e,{get:()=>j("You are getting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>j("You are setting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})}),o.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var s,l=Object.assign({},o),c="";if("undefined"!=typeof document&&document.currentScript&&(c=document.currentScript.src),t&&(c=t),c=c.startsWith("blob:")?"":c.substr(0,c.replace(/[?#].*/,"").lastIndexOf("/")+1),"object"!=typeof window&&"function"!=typeof importScripts)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");s=e=>(E(!D(e),"readAsync does not work with file:// URLs"),fetch(e,{credentials:"same-origin"}).then(e=>e.ok?e.arrayBuffer():Promise.reject(new Error(e.status+" : "+e.url))));var h,d,f,_=o.print||console.log.bind(console),u=o.printErr||console.error.bind(console);Object.assign(o,l),l=null,h="fetchSettings",Object.getOwnPropertyDescriptor(o,h)&&j(`\`Module.${h}\` was supplied but \`${h}\` not included in INCOMING_MODULE_JS_API`),o.arguments&&o.arguments,Y("arguments","arguments_"),o.thisProgram&&o.thisProgram,Y("thisProgram","thisProgram"),o.quit&&o.quit,Y("quit","quit_"),E(void 0===o.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),E(void 0===o.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),E(void 0===o.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),E(void 0===o.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),E(void 0===o.read,"Module.read option was removed"),E(void 0===o.readAsync,"Module.readAsync option was removed (modify readAsync in JS)"),E(void 0===o.readBinary,"Module.readBinary option was removed (modify readBinary in JS)"),E(void 0===o.setWindowTitle,"Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),E(void 0===o.TOTAL_MEMORY,"Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Y("asm","wasmExports"),Y("readAsync","readAsync"),Y("readBinary","readBinary"),Y("setWindowTitle","setWindowTitle"),E(!0,"worker environment detected but not enabled at build time.  Add `worker` to `-sENVIRONMENT` to enable."),E(!0,"node environment detected but not enabled at build time.  Add `node` to `-sENVIRONMENT` to enable."),E(!0,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable."),o.wasmBinary&&(d=o.wasmBinary),Y("wasmBinary","wasmBinary"),"object"!=typeof WebAssembly&&u("no native wasm support detected");var p,m,g,b,v,w,y,x,T=!1;function E(e,t){e||j("Assertion failed"+(t?": "+t:""))}function A(){var e=f.buffer;o.HEAP8=p=new Int8Array(e),o.HEAP16=g=new Int16Array(e),o.HEAPU8=m=new Uint8Array(e),o.HEAPU16=b=new Uint16Array(e),o.HEAP32=v=new Int32Array(e),o.HEAPU32=w=new Uint32Array(e),o.HEAPF32=y=new Float32Array(e),o.HEAPF64=x=new Float64Array(e)}function M(){if(!T){var e=xt();0==e&&(e+=4);var t=w[e>>2],n=w[e+4>>2];34821223==t&&2310721022==n||j(`Stack overflow! Stack cookie has been overwritten at ${Q(e)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Q(n)} ${Q(t)}`),1668509029!=w[0]&&j("Runtime error: The application has corrupted its heap memory area (address zero)!")}}E(!o.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),E("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&null!=Int32Array.prototype.subarray&&null!=Int32Array.prototype.set,"JS engine does not provide full typed array support"),E(!o.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),E(!o.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically"),function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,115!==t[0]||99!==t[1])throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"}();var S=[],P=[],C=[],F=!1;function I(e){S.unshift(e)}function k(e){C.unshift(e)}E(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),E(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),E(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),E(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var R=0,O=null,L=null,z={};function j(e){o.onAbort?.(e),u(e="Aborted("+e+")"),T=!0;var t=new WebAssembly.RuntimeError(e);throw a(t),t}var $={error(){j("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){$.error()},createDataFile(){$.error()},createPreloadedFile(){$.error()},createLazyFile(){$.error()},open(){$.error()},mkdev(){$.error()},registerDevice(){$.error()},analyzePath(){$.error()},ErrnoError(){$.error()}};o.FS_createDataFile=$.createDataFile,o.FS_createPreloadedFile=$.createPreloadedFile;var B,N=e=>e.startsWith("data:application/octet-stream;base64,"),D=e=>e.startsWith("file://");function U(e,t){return(...n)=>{E(F,`native function \`${e}\` called before runtime initialization`);var r=pt[e];return E(r,`exported native function \`${e}\` not found`),E(n.length<=t,`native function \`${e}\` called with ${n.length} args but expects ${t}`),r(...n)}}class G extends Error{}class W extends G{constructor(e){super(e),this.excPtr=e;const t=ft(e);this.name=t[0],this.message=t[1]}}function H(){var e,t="marchingsquares.wasm";return N(t)?t:(e=t,o.locateFile?o.locateFile(e,c):c+e)}function V(e){if(e==B&&d)return new Uint8Array(d);throw"both async and sync fetching of the wasm failed"}function Z(e,t,n){return function(e){return d?Promise.resolve().then(()=>V(e)):s(e).then(e=>new Uint8Array(e),()=>V(e))}(e).then(e=>WebAssembly.instantiate(e,t)).then(n,e=>{u(`failed to asynchronously prepare wasm: ${e}`),D(B)&&u(`warning: Loading from a file URI (${B}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),j(e)})}function Y(e,t,n=!0){Object.getOwnPropertyDescriptor(o,e)||Object.defineProperty(o,e,{configurable:!0,get(){j(`\`Module.${e}\` has been replaced by \`${t}\``+(n?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":""))}})}function X(e){return"FS_createPath"===e||"FS_createDataFile"===e||"FS_createPreloadedFile"===e||"FS_unlink"===e||"addRunDependency"===e||"FS_createLazyFile"===e||"FS_createDevice"===e||"removeRunDependency"===e}function q(e,t){"undefined"!=typeof globalThis&&Object.defineProperty(globalThis,e,{configurable:!0,get(){ne(`\`${e}\` is not longer defined by emscripten. ${t}`)}})}function J(e){Object.getOwnPropertyDescriptor(o,e)||Object.defineProperty(o,e,{configurable:!0,get(){var t=`'${e}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;X(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),j(t)}})}q("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),q("asm","Please use wasmExports instead");var K=e=>{for(;e.length>0;)e.shift()(o)};o.noExitRuntime;var Q=e=>(E("number"==typeof e),"0x"+(e>>>=0).toString(16).padStart(8,"0")),ee=e=>Tt(e),te=()=>At(),ne=e=>{ne.shown||={},ne.shown[e]||(ne.shown[e]=1,u(e))},re="undefined"!=typeof TextDecoder?new TextDecoder:void 0,ae=(e,t,n)=>{for(var r=t+n,a=t;e[a]&&!(a>=r);)++a;if(a-t>16&&e.buffer&&re)return re.decode(e.subarray(t,a));for(var o="";t<a;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var l=63&e[t++];if(224==(240&i)?i=(15&i)<<12|s<<6|l:(240!=(248&i)&&ne("Invalid UTF-8 leading byte "+Q(i)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),i=(7&i)<<18|s<<12|l<<6|63&e[t++]),i<65536)o+=String.fromCharCode(i);else{var c=i-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&i)<<6|s)}else o+=String.fromCharCode(i)}return o},oe=(e,t)=>(E("number"==typeof e,`UTF8ToString expects a number (got ${typeof e})`),e?ae(m,e,t):""),ie=[],se=0;class le{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){w[this.ptr+4>>2]=e}get_type(){return w[this.ptr+4>>2]}set_destructor(e){w[this.ptr+8>>2]=e}get_destructor(){return w[this.ptr+8>>2]}set_caught(e){e=e?1:0,p[this.ptr+12]=e}get_caught(){return 0!=p[this.ptr+12]}set_rethrown(e){e=e?1:0,p[this.ptr+13]=e}get_rethrown(){return 0!=p[this.ptr+13]}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){w[this.ptr+16>>2]=e}get_adjusted_ptr(){return w[this.ptr+16>>2]}get_exception_ptr(){if(Ft(this.get_type()))return w[this.excPtr>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}var ce,he,de,fe=e=>wt(e),_e=e=>{var t=se?.excPtr;if(!t)return fe(0),0;var n=new le(t);n.set_adjusted_ptr(t);var r=n.get_type();if(!r)return fe(0),t;for(var a of e){if(0===a||a===r)break;var o=n.ptr+16;if(Ct(a,r,o))return fe(a),t}return fe(r),t},ue=e=>{for(var t="",n=e;m[n];)t+=ce[m[n++]];return t},pe={},me={},ge={},be=e=>{throw new he(e)},ve=e=>{throw new de(e)};function we(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(e,t,n={}){var r=t.name;if(e||be(`type "${r}" must have a positive integer typeid pointer`),me.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;be(`Cannot register type '${r}' twice`)}if(me[e]=t,delete ge[e],pe.hasOwnProperty(e)){var a=pe[e];delete pe[e],a.forEach(e=>e())}}(e,t,n)}var ye=[],xe=[],Te=e=>{e>9&&0===--xe[e+1]&&(E(void 0!==xe[e],"Decref for unallocated handle."),xe[e]=void 0,ye.push(e))},Ee=()=>xe.length/2-5-ye.length,Ae=e=>(e||be("Cannot use deleted val. handle = "+e),E(2===e||void 0!==xe[e]&&e%2==0,`invalid handle: ${e}`),xe[e]),Me=e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=ye.pop()||xe.length;return xe[t]=e,xe[t+1]=1,t}}};function Se(e){return this.fromWireType(w[e>>2])}var Pe={name:"emscripten::val",fromWireType:e=>{var t=Ae(e);return Te(e),t},toWireType:(e,t)=>Me(t),argPackAdvance:8,readValueFromPointer:Se,destructorFunction:null},Ce=e=>{if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e},Fe=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(y[e>>2])};case 8:return function(e){return this.fromWireType(x[e>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},Ie=(e,t)=>Object.defineProperty(t,"name",{value:e}),ke=e=>{for(;e.length;){var t=e.pop();e.pop()(t)}};function Re(e){for(var t=1;t<e.length;++t)if(null!==e[t]&&void 0===e[t].destructorFunction)return!0;return!1}function Oe(e,t){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var n=Ie(e.name||"unknownFunctionName",function(){});n.prototype=e.prototype;var r=new n,a=e.apply(r,t);return a instanceof Object?a:r}function Le(e,t,n,r,a,o){var i=t.length;i<2&&be("argTypes array size mismatch! Must at least get return value and 'this' types!"),E(!o,"Async bindings are only supported with JSPI.");for(var s=null!==t[1]&&null!==n,l=Re(t),c="void"!==t[0].name,h=[e,be,r,a,ke,t[0],t[1]],d=0;d<i-2;++d)h.push(t[d+2]);if(!l)for(d=s?1:2;d<t.length;++d)null!==t[d].destructorFunction&&h.push(t[d].destructorFunction);let[f,_]=function(e,t,n,r){for(var a=Re(e),o=e.length,i="",s="",l=0;l<o-2;++l)i+=(0!==l?", ":"")+"arg"+l,s+=(0!==l?", ":"")+"arg"+l+"Wired";var c=`\n        return function (${i}) {\n        if (arguments.length !== ${o-2}) {\n          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${o-2}');\n        }`;a&&(c+="var destructors = [];\n");var h=a?"destructors":"null",d=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];for(t&&(c+="var thisWired = classParam['toWireType']("+h+", this);\n"),l=0;l<o-2;++l)c+="var arg"+l+"Wired = argType"+l+"['toWireType']("+h+", arg"+l+");\n",d.push("argType"+l);if(t&&(s="thisWired"+(s.length>0?", ":"")+s),c+=(n||r?"var rv = ":"")+"invoker(fn"+(s.length>0?", ":"")+s+");\n",a)c+="runDestructors(destructors);\n";else for(l=t?1:2;l<e.length;++l){var f=1===l?"thisWired":"arg"+(l-2)+"Wired";null!==e[l].destructorFunction&&(c+=`${f}_dtor(${f});\n`,d.push(`${f}_dtor`))}return n&&(c+="var ret = retType['fromWireType'](rv);\nreturn ret;\n"),c+="}\n",[d,c=`if (arguments.length !== ${d.length}){ throw new Error(humanName + "Expected ${d.length} closure arguments " + arguments.length + " given."); }\n${c}`]}(t,s,c,o);f.push(_);var u=Oe(Function,f)(...h);return Ie(e,u)}var ze,je,$e,Be=(e,t,n)=>{if(void 0===e[t].overloadTable){var r=e[t];e[t]=function(...r){return e[t].overloadTable.hasOwnProperty(r.length)||be(`Function '${n}' called with an invalid number of arguments (${r.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[r.length].apply(this,r)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}},Ne=[],De=e=>{var t=Ne[e];return t||(e>=Ne.length&&(Ne.length=e+1),Ne[e]=t=ze.get(e)),E(ze.get(e)==t,"JavaScript-side Wasm function table mirror is out of date!"),t},Ue=(e,t,n=[])=>e.includes("j")?((e,t,n)=>(E("dynCall_"+(e=e.replace(/p/g,"i"))in o,`bad function pointer type - dynCall function not found for sig '${e}'`),E(n?.length?n.length===e.substring(1).replace(/j/g,"--").length:1==e.length),(0,o["dynCall_"+e])(t,...n)))(e,t,n):(E(De(t),`missing table entry in dynCall: ${t}`),De(t)(...n)),Ge=(e,t)=>{var n,r,a=(e=ue(e)).includes("j")?(r=t,E((n=e).includes("j")||n.includes("p"),"getDynCaller should only be called with i64 sigs"),(...e)=>Ue(n,r,e)):De(t);return"function"!=typeof a&&be(`unknown function pointer with signature ${e}: ${t}`),a},We=e=>{var t=mt(e),n=ue(t);return bt(t),n},He=(e,t,n)=>{switch(t){case 1:return n?e=>p[e]:e=>m[e];case 2:return n?e=>g[e>>1]:e=>b[e>>1];case 4:return n?e=>v[e>>2]:e=>w[e>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Ve=(e,t,n)=>(E("number"==typeof n,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),((e,t,n,r)=>{if(E("string"==typeof e,`stringToUTF8Array expects a string (got ${typeof e})`),!(r>0))return 0;for(var a=n,o=n+r-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),s<=127){if(n>=o)break;t[n++]=s}else if(s<=2047){if(n+1>=o)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=o)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=o)break;s>1114111&&ne("Invalid Unicode code point "+Q(s)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-a})(e,m,t,n)),Ze="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,Ye=(e,t)=>{E(e%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var n=e,r=n>>1,a=r+t/2;!(r>=a)&&b[r];)++r;if((n=r<<1)-e>32&&Ze)return Ze.decode(m.subarray(e,n));for(var o="",i=0;!(i>=t/2);++i){var s=g[e+2*i>>1];if(0==s)break;o+=String.fromCharCode(s)}return o},Xe=(e,t,n)=>{if(E(t%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),E("number"==typeof n,"stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),n??=2147483647,n<2)return 0;for(var r=t,a=(n-=2)<2*e.length?n/2:e.length,o=0;o<a;++o){var i=e.charCodeAt(o);g[t>>1]=i,t+=2}return g[t>>1]=0,t-r},qe=e=>2*e.length,Je=(e,t)=>{E(e%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var n=0,r="";!(n>=t/4);){var a=v[e+4*n>>2];if(0==a)break;if(++n,a>=65536){var o=a-65536;r+=String.fromCharCode(55296|o>>10,56320|1023&o)}else r+=String.fromCharCode(a)}return r},Ke=(e,t,n)=>{if(E(t%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),E("number"==typeof n,"stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),n??=2147483647,n<4)return 0;for(var r=t,a=r+n-4,o=0;o<e.length;++o){var i=e.charCodeAt(o);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),v[t>>2]=i,(t+=4)+4>a)break}return v[t>>2]=0,t-r},Qe=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t},et=(e,t)=>{var n=me[e];return void 0===n&&be(`${t} has unknown type ${We(e)}`),n},tt=(e,t,n)=>{var r=[],a=e.toWireType(r,n);return r.length&&(w[t>>2]=Me(r)),a},nt=[],rt={},at=e=>{var t=rt[e];return void 0===t?ue(e):t};Reflect.construct,$e=()=>performance.now();var ot=e=>{var t=f.buffer,n=(e-t.byteLength+65535)/65536;try{return f.grow(n),A(),1}catch(r){u(`growMemory: Attempted to grow heap from ${t.byteLength} bytes to ${e} bytes, but got error: ${r}`)}},it=[null,[],[]],st=(e,t)=>{var n=it[e];E(n),0===t||10===t?((1===e?_:u)(ae(n,0)),n.length=0):n.push(t)};o.incrementExceptionRefcount=e=>Mt(e),o.decrementExceptionRefcount=e=>St(e);var lt,ct,ht,dt=e=>Et(e),ft=e=>(e=>{var t=te(),n=dt(4),r=dt(4);Pt(e,n,r);var a,o=w[n>>2],i=w[r>>2],s=oe(o);return bt(o),i&&(a=oe(i),bt(i)),ee(t),[s,a]})(e);o.getExceptionMessage=ft,(()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);ce=e})(),he=o.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},de=o.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},xe.push(0,1,void 0,1,null,1,!0,1,!1,1),E(10===xe.length),o.count_emval_handles=Ee,je=o.UnboundTypeError=(lt=Error,(ht=Ie(ct="UnboundTypeError",function(e){this.name=ct,this.message=e;var t=new Error(e).stack;void 0!==t&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))})).prototype=Object.create(lt.prototype),ht.prototype.constructor=ht,ht.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},ht);var _t,ut={__assert_fail:(e,t,n,r)=>{j(`Assertion failed: ${oe(e)}, at: `+[t?oe(t):"unknown filename",n,r?oe(r):"unknown function"])},__cxa_begin_catch:e=>{var t=new le(e);return t.get_caught()||t.set_caught(!0),t.set_rethrown(!1),ie.push(t),Mt(t.excPtr),t.get_exception_ptr()},__cxa_find_matching_catch_2:()=>_e([]),__cxa_find_matching_catch_3:e=>_e([e]),__cxa_throw:(e,t,n)=>{throw new le(e).init(t,n),se=new W(e)},__resumeException:e=>{throw se||(se=new W(e)),se},_abort_js:()=>{j("native code called abort()")},_embind_register_bigint:(e,t,n,r,a)=>{},_embind_register_bool:(e,t,n,r)=>{we(e,{name:t=ue(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:r},argPackAdvance:8,readValueFromPointer:function(e){return this.fromWireType(m[e])},destructorFunction:null})},_embind_register_emval:e=>we(e,Pe),_embind_register_float:(e,t,n)=>{we(e,{name:t=ue(t),fromWireType:e=>e,toWireType:(e,t)=>{if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError(`Cannot convert ${Ce(t)} to ${this.name}`);return t},argPackAdvance:8,readValueFromPointer:Fe(t,n),destructorFunction:null})},_embind_register_function:(e,t,n,r,a,i,s)=>{var l=((e,t)=>{for(var n=[],r=0;r<e;r++)n.push(w[t+4*r>>2]);return n})(t,n);e=(e=>{const t=(e=e.trim()).indexOf("(");return-1!==t?(E(")"==e[e.length-1],"Parentheses for argument names should match."),e.substr(0,t)):e})(e=ue(e)),a=Ge(r,a),((e,t,n)=>{o.hasOwnProperty(e)?((void 0===n||void 0!==o[e].overloadTable&&void 0!==o[e].overloadTable[n])&&be(`Cannot register public name '${e}' twice`),Be(o,e,e),o.hasOwnProperty(n)&&be(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`),o[e].overloadTable[n]=t):(o[e]=t,void 0!==n&&(o[e].numArguments=n))})(e,function(){((e,t)=>{var n=[],r={};throw t.forEach(function e(t){r[t]||me[t]||(ge[t]?ge[t].forEach(e):(n.push(t),r[t]=!0))}),new je(`${e}: `+n.map(We).join([", "]))})(`Cannot call ${e} due to unbound types`,l)},t-1),((e,t,n)=>{function r(t){var r=n(t);r.length!==e.length&&ve("Mismatched type converter count");for(var a=0;a<e.length;++a)we(e[a],r[a])}e.forEach(function(e){ge[e]=t});var a=new Array(t.length),o=[],i=0;t.forEach((e,t)=>{me.hasOwnProperty(e)?a[t]=me[e]:(o.push(e),pe.hasOwnProperty(e)||(pe[e]=[]),pe[e].push(()=>{a[t]=me[e],++i===o.length&&r(a)}))}),0===o.length&&r(a)})([],l,n=>{var r=[n[0],null].concat(n.slice(1));return((e,t,n)=>{o.hasOwnProperty(e)||ve("Replacing nonexistent public symbol"),void 0!==o[e].overloadTable&&void 0!==n?o[e].overloadTable[n]=t:(o[e]=t,o[e].argCount=n)})(e,Le(e,r,null,a,i,s),t-1),[]})},_embind_register_integer:(e,t,n,r,a)=>{t=ue(t),-1===a&&(a=4294967295);var o=e=>e;if(0===r){var i=32-8*n;o=e=>e<<i>>>i}var s=t.includes("unsigned"),l=(e,n)=>{if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError(`Cannot convert "${Ce(e)}" to ${n}`);if(e<r||e>a)throw new TypeError(`Passing a number "${Ce(e)}" from JS side to C/C++ side to an argument of type "${t}", which is outside the valid range [${r}, ${a}]!`)};we(e,{name:t,fromWireType:o,toWireType:s?function(e,t){return l(t,this.name),t>>>0}:function(e,t){return l(t,this.name),t},argPackAdvance:8,readValueFromPointer:He(t,n,0!==r),destructorFunction:null})},_embind_register_memory_view:(e,t,n)=>{var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function a(e){var t=w[e>>2],n=w[e+4>>2];return new r(p.buffer,n,t)}we(e,{name:n=ue(n),fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:(e,t)=>{var n="std::string"===(t=ue(t));we(e,{name:t,fromWireType(e){var t,r=w[e>>2],a=e+4;if(n)for(var o=a,i=0;i<=r;++i){var s=a+i;if(i==r||0==m[s]){var l=oe(o,s-o);void 0===t?t=l:(t+=String.fromCharCode(0),t+=l),o=s+1}}else{var c=new Array(r);for(i=0;i<r;++i)c[i]=String.fromCharCode(m[a+i]);t=c.join("")}return bt(e),t},toWireType(e,t){var r;t instanceof ArrayBuffer&&(t=new Uint8Array(t));var a="string"==typeof t;a||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||be("Cannot pass non-string to std::string"),r=n&&a?(e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t})(t):t.length;var o=gt(4+r+1),i=o+4;if(w[o>>2]=r,n&&a)Ve(t,i,r+1);else if(a)for(var s=0;s<r;++s){var l=t.charCodeAt(s);l>255&&(bt(i),be("String has UTF-16 code units that do not fit in 8 bits")),m[i+s]=l}else for(s=0;s<r;++s)m[i+s]=t[s];return null!==e&&e.push(bt,o),o},argPackAdvance:8,readValueFromPointer:Se,destructorFunction(e){bt(e)}})},_embind_register_std_wstring:(e,t,n)=>{var r,a,o,i;n=ue(n),2===t?(r=Ye,a=Xe,i=qe,o=e=>b[e>>1]):4===t&&(r=Je,a=Ke,i=Qe,o=e=>w[e>>2]),we(e,{name:n,fromWireType:e=>{for(var n,a=w[e>>2],i=e+4,s=0;s<=a;++s){var l=e+4+s*t;if(s==a||0==o(l)){var c=r(i,l-i);void 0===n?n=c:(n+=String.fromCharCode(0),n+=c),i=l+t}}return bt(e),n},toWireType:(e,r)=>{"string"!=typeof r&&be(`Cannot pass non-string to C++ string type ${n}`);var o=i(r),s=gt(4+o+t);return w[s>>2]=o/t,a(r,s+4,o+t),null!==e&&e.push(bt,s),s},argPackAdvance:8,readValueFromPointer:Se,destructorFunction(e){bt(e)}})},_embind_register_void:(e,t)=>{we(e,{isVoid:!0,name:t=ue(t),argPackAdvance:0,fromWireType:()=>{},toWireType:(e,t)=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(e,t,n)=>m.copyWithin(e,t,t+n),_emval_as:(e,t,n)=>(e=Ae(e),t=et(t,"emval::as"),tt(t,n,e)),_emval_call:(e,t,n,r)=>(e=nt[e])(null,t=Ae(t),n,r),_emval_call_method:(e,t,n,r,a)=>(e=nt[e])(t=Ae(t),t[n=at(n)],r,a),_emval_decref:Te,_emval_get_method_caller:(e,t,n)=>{var r=((e,t)=>{for(var n=new Array(e),r=0;r<e;++r)n[r]=et(w[t+4*r>>2],"parameter "+r);return n})(e,t),a=r.shift();e--;var o="return function (obj, func, destructorsRef, args) {\n",i=0,s=[];0===n&&s.push("obj");for(var l=["retType"],c=[a],h=0;h<e;++h)s.push("arg"+h),l.push("argType"+h),c.push(r[h]),o+=`  var arg${h} = argType${h}.readValueFromPointer(args${i?"+"+i:""});\n`,i+=r[h].argPackAdvance;o+=`  var rv = ${1===n?"new func":"func.call"}(${s.join(", ")});\n`,a.isVoid||(l.push("emval_returnValue"),c.push(tt),o+="  return emval_returnValue(retType, destructorsRef, rv);\n"),o+="};\n",l.push(o);var d,f,_=Oe(Function,l)(...c),u=`methodCaller<(${r.map(e=>e.name).join(", ")}) => ${a.name}>`;return d=Ie(u,_),f=nt.length,nt.push(d),f},_emval_get_module_property:e=>(e=at(e),Me(o[e])),_emval_get_property:(e,t)=>(e=Ae(e),t=Ae(t),Me(e[t])),_emval_incref:e=>{e>9&&(xe[e+1]+=1)},_emval_new_array:()=>Me([]),_emval_new_cstring:e=>Me(at(e)),_emval_new_object:()=>Me({}),_emval_run_destructors:e=>{var t=Ae(e);ke(t),Te(e)},_emval_set_property:(e,t,n)=>{e=Ae(e),t=Ae(t),n=Ae(n),e[t]=n},_emval_take_value:(e,t)=>{var n=(e=et(e,"_emval_take_value")).readValueFromPointer(t);return Me(n)},emscripten_date_now:()=>Date.now(),emscripten_get_now:$e,emscripten_resize_heap:e=>{var t=m.length;E((e>>>=0)>t);var n=2147483648;if(e>n)return u(`Cannot enlarge memory, requested ${e} bytes, but the limit is 2147483648 bytes!`),!1;for(var r=(e,t)=>e+(t-e%t)%t,a=1;a<=4;a*=2){var o=t*(1+.2/a);o=Math.min(o,e+100663296);var i=Math.min(n,r(Math.max(e,o),65536));if(ot(i))return!0}return u(`Failed to grow the heap from ${t} bytes to ${i} bytes, not enough memory!`),!1},fd_close:e=>{j("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},fd_seek:function(e,t,n,r,a){var o,i;return i=n,E((o=t)==o>>>0||o==(0|o)),E(i===(0|i)),70},fd_write:(e,t,n,r)=>{for(var a=0,o=0;o<n;o++){var i=w[t>>2],s=w[t+4>>2];t+=8;for(var l=0;l<s;l++)st(e,m[i+l]);a+=s}return w[r>>2]=a,0},invoke_ii:function(e,t){var n=te();try{return De(e)(t)}catch(r){if(ee(n),!(r instanceof G))throw r;vt(1,0)}},invoke_iii:function(e,t,n){var r=te();try{return De(e)(t,n)}catch(a){if(ee(r),!(a instanceof G))throw a;vt(1,0)}},invoke_iiii:function(e,t,n,r){var a=te();try{return De(e)(t,n,r)}catch(o){if(ee(a),!(o instanceof G))throw o;vt(1,0)}},invoke_j:function(e){var t=te();try{return It(e)}catch(n){if(ee(t),!(n instanceof G))throw n;vt(1,0)}},invoke_v:function(e){var t=te();try{De(e)()}catch(n){if(ee(t),!(n instanceof G))throw n;vt(1,0)}},invoke_vi:function(e,t){var n=te();try{De(e)(t)}catch(r){if(ee(n),!(r instanceof G))throw r;vt(1,0)}},invoke_vii:function(e,t,n){var r=te();try{De(e)(t,n)}catch(a){if(ee(r),!(a instanceof G))throw a;vt(1,0)}},invoke_viii:function(e,t,n,r){var a=te();try{De(e)(t,n,r)}catch(o){if(ee(a),!(o instanceof G))throw o;vt(1,0)}},invoke_viiii:function(e,t,n,r,a){var o=te();try{De(e)(t,n,r,a)}catch(i){if(ee(o),!(i instanceof G))throw i;vt(1,0)}}},pt=function(){var e,t={env:ut,wasi_snapshot_preview1:ut};function n(e,t){var n;return pt=e.exports,E(f=pt.memory,"memory not found in wasm exports"),A(),E(ze=pt.__indirect_function_table,"table not found in wasm exports"),n=pt.__wasm_call_ctors,P.unshift(n),function(e){if(R--,o.monitorRunDependencies?.(R),e?(E(z[e]),delete z[e]):u("warning: run dependency removed without ID"),0==R&&(null!==O&&(clearInterval(O),O=null),L)){var t=L;L=null,t()}}("wasm-instantiate"),pt}e="wasm-instantiate",R++,o.monitorRunDependencies?.(R),e?(E(!z[e]),z[e]=1,null===O&&"undefined"!=typeof setInterval&&(O=setInterval(()=>{if(T)return clearInterval(O),void(O=null);var e=!1;for(var t in z)e||(e=!0,u("still waiting on run dependencies:")),u(`dependency: ${t}`);e&&u("(end of list)")},1e4))):u("warning: run dependency added without ID");var r,i,s,l,c=o;if(o.instantiateWasm)try{return o.instantiateWasm(t,n)}catch(h){u(`Module.instantiateWasm callback failed with error: ${h}`),a(h)}return B||(B=H()),(r=d,i=B,s=t,l=function(e){E(o===c,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),c=null,n(e.instance)},r||"function"!=typeof WebAssembly.instantiateStreaming||N(i)||"function"!=typeof fetch?Z(i,s,l):fetch(i,{credentials:"same-origin"}).then(e=>WebAssembly.instantiateStreaming(e,s).then(l,function(e){return u(`wasm streaming compile failed: ${e}`),u("falling back to ArrayBuffer instantiation"),Z(i,s,l)}))).catch(a),{}}(),mt=(U("__wasm_call_ctors",0),U("__getTypeName",1)),gt=(U("fflush",1),U("malloc",1)),bt=(U("strerror",1),U("free",1)),vt=U("setThrew",2),wt=U("_emscripten_tempret_set",1),yt=()=>(yt=pt.emscripten_stack_init)(),xt=()=>(xt=pt.emscripten_stack_get_end)(),Tt=e=>(Tt=pt._emscripten_stack_restore)(e),Et=e=>(Et=pt._emscripten_stack_alloc)(e),At=()=>(At=pt.emscripten_stack_get_current)(),Mt=(U("__cxa_free_exception",1),U("__cxa_increment_exception_refcount",1)),St=U("__cxa_decrement_exception_refcount",1),Pt=U("__get_exception_message",3),Ct=U("__cxa_can_catch",3),Ft=U("__cxa_is_pointer_type",1),It=o.dynCall_j=U("dynCall_j",1);function kt(){var e;yt(),E(!(3&(e=xt()))),0==e&&(e+=4),w[e>>2]=34821223,w[e+4>>2]=2310721022,w[0]=1668509029}function Rt(){function e(){_t||(_t=!0,o.calledRun=!0,T||(E(!F),F=!0,M(),K(P),r(o),o.onRuntimeInitialized?.(),E(!o._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),function(){if(M(),o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)k(o.postRun.shift());K(C)}()))}R>0||(kt(),function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)I(o.preRun.shift());K(S)}(),R>0||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e(),M()))}if(o.dynCall_jiji=U("dynCall_jiji",5),["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","getTempRet0","zeroMemory","exitJS","isLeapYear","ydayFromDate","arraySum","addDays","strError","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","initRandomFill","randomFill","emscriptenLog","readEmAsmArgs","jstoi_q","getExecutableName","listenOnce","autoResumeAudioContext","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","writeArrayToMemory","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","Browser_asyncPrepareDataCounter","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","FS_unlink","FS_createDataFile","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","setErrNo","demangle","stackTrace","getFunctionArgsName","createJsInvokerSignature","init_embind","getBasestPointer","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","enumReadValueFromPointer","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","throwInstanceAlreadyDeleted","flushPendingDeletes","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","emval_get_global"].forEach(function(e){"undefined"==typeof globalThis||Object.getOwnPropertyDescriptor(globalThis,e)||Object.defineProperty(globalThis,e,{configurable:!0,get(){var t=`\`${e}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,n=e;n.startsWith("_")||(n="$"+e),t+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${n}')`,X(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),ne(t)}}),J(e)}),["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","out","err","callMain","abort","wasmMemory","wasmExports","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","stackSave","stackRestore","stackAlloc","setTempRet0","ptrToString","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","jstoi_s","dynCallLegacy","getDynCaller","dynCall","wasmTable","noExitRuntime","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","getPreloadedImageData__data","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS_createPath","FS_createDevice","FS_readFile","FS","FS_createLazyFile","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","print","printErr","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","getTypeName","getFunctionName","heap32VectorToArray","requireRegisteredType","usesDestructorStack","createJsInvoker","UnboundTypeError","PureVirtualError","GenericWireTypeSize","EmValType","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","embindRepr","registeredInstances","registeredPointers","registerType","integerReadValueFromPointer","floatReadValueFromPointer","readPointer","runDestructors","newFunc","craftInvokerFunction","embind__requireFunction","finalizationRegistry","detachFinalizer_deps","deletionQueue","delayFunction","emval_freelist","emval_handles","emval_symbols","init_emval","count_emval_handles","getStringOrSymbol","Emval","emval_returnValue","emval_lookupTypes","emval_methodCallers","emval_addMethodCaller","reflectConstruct"].forEach(J),L=function e(){_t||Rt(),_t||(L=e)},o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();Rt(),n=i;for(const t of Object.keys(o))t in e||Object.defineProperty(e,t,{configurable:!0,get(){j(`Access to module property ('${t}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}});return n});e.exports=n},7074:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>f,contentTitle:()=>d,default:()=>p,frontMatter:()=>h,metadata:()=>r,toc:()=>_});const r=JSON.parse('{"id":"colormaps","title":"Color Maps","description":"Built-in color maps","source":"@site/docs/colormaps.md","sourceDirName":".","slug":"/colormaps","permalink":"/autumnplot-gl/docs/colormaps","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Varying the Data Plots","permalink":"/autumnplot-gl/docs/varying"},"next":{"title":"Typescript Considerations","permalink":"/autumnplot-gl/docs/typescript"}}');var a=n(4848),o=n(8453),i=n(7710),s=n(6540),l=n(9813);function c(){const e={pw_speed500mb:{label:"Wind Speed (kts)",ticks:[20,30,40,50,60,70,80,90,100,110,120,130,140]},pw_speed850mb:{label:"Wind Speed (kts)",ticks:[20,25,30,35,40,45,50,55,60,65,70,75,80]},pw_t2m:{label:"Temperature (\xb0F)",ticks:[-60,-50,-40,-30,-20,-10,0,10,20,30,40,50,60,70,80,90,100,110,120]},pw_td2m:{label:"Dewpoint Temperature (\xb0F)",ticks:[-40,-30,-20,-10,0,10,20,30,40,50,60,70,80,90]},pw_cape:{label:"CAPE (J/kg)",ticks:[500,1e3,1500,2e3,2500,3e3,3500,4e3,4500,5e3,5500,6e3,1e4]},nws_storm_clear_refl:{label:"Reflectivity (dBZ)",ticks:[-20,-10,0,10,20,30,40,50,60,70]},redblue:{label:"",ticks:[-10,-8,-6,-4,-2,0,2,4,6,8,10],lower:-10,upper:10,ncolors:20},bluered:{label:"",ticks:[-10,-8,-6,-4,-2,0,2,4,6,8,10],lower:-10,upper:10,ncolors:20}},{colorMode:t}=(0,i.G)();return s.useRef(t).current=t,(0,a.jsx)("table",{children:(0,a.jsx)("tbody",{children:(0,a.jsx)(l.A,{children:()=>Object.entries(e).map(([e,t])=>{const r=n(1281).colormaps,o=n(1972).l;let i=r[e],s=e;return"lower"in t&&"upper"in t&&"ncolors"in t&&(i=i(t.lower,t.upper,t.ncolors),s=`${e}(${t.lower}, ${t.upper}, ${t.ncolors})`),(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:s}),(0,a.jsx)("td",{children:(0,a.jsx)(o,{cmap:i,label:t.label,fontface:"var(--ifm-font-family-base)",ticks:t.ticks,orientation:"horizontal",tick_direction:"bottom",outline_and_text_color:"var(--ifm-font-color-base)"})})]},e)})})})})}const h={sidebar_position:5},d="Color Maps",f={},_=[{value:"Built-in color maps",id:"built-in-color-maps",level:2},{value:"Custom color maps",id:"custom-color-maps",level:2}];function u(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"color-maps",children:"Color Maps"})}),"\n",(0,a.jsx)(t.h2,{id:"built-in-color-maps",children:"Built-in color maps"}),"\n",(0,a.jsxs)(t.p,{children:["autumnplot-gl comes with several built-in color maps. These are basic blue/red and red/blue diverging color maps plus a selection from ",(0,a.jsx)(t.a,{href:"https://www.pivotalweather.com",children:"PivotalWeather"}),". The blue/red and red/blue are functions that take a minimum contour level, a maximum contour level, and a number of colors. For example, this creates a blue/red colormap starting at -10, ending at 10, and with 20 colors:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"import {colormaps} from 'autumnplot-gl'\nconst colormap = colormaps.bluered(-10, 10, 20);\n"})}),"\n",(0,a.jsx)(t.p,{children:"Here are all the colormaps available:"}),"\n",(0,a.jsx)(c,{}),"\n",(0,a.jsx)(t.h2,{id:"custom-color-maps",children:"Custom color maps"}),"\n",(0,a.jsx)(t.p,{children:"If you want to create your own color map, you can supply arrays of data levels and colors and create one like so:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"import {ColorMap} from 'autumnplot-gl';\n\nconst levels = [1, 2, 3];\nconst colors = ['#999999', '#cccccc'];\nconst cmap = new ColorMap(levels, colors, {underflow_color: '#666666', \n                                           overflow_color: '#ffffff'});\n"})}),"\n",(0,a.jsxs)(t.p,{children:["There should be one more data level than color in the arrays. You can also supply an ",(0,a.jsx)(t.code,{children:"underflow_color"})," and ",(0,a.jsx)(t.code,{children:"overflow_color"})," for values outside the range of the data levels, and those will be noted with the arrows on the ends of the color bar."]})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},9813:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(6540);var r=n(1062),a=n(4848);function o({children:e,fallback:t}){return(0,r.A)()?(0,a.jsx)(a.Fragment,{children:e?.()}):t??null}}}]);